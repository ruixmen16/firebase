(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function iS(){if(__)return ul;__=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var v_;function rS(){return v_||(v_=1,yd.exports=iS()),yd.exports}var wt=rS(),_d={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function sS(){if(E_)return _t;E_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),U=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ut(O,K,tt){this.props=O,this.context=K,this.refs=$,this.updater=tt||Z}ut.prototype.isReactComponent={},ut.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ut.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=ut.prototype;function ct(O,K,tt){this.props=O,this.context=K,this.refs=$,this.updater=tt||Z}var zt=ct.prototype=new gt;zt.constructor=ct,et(zt,ut.prototype),zt.isPureReactComponent=!0;var Wt=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,K,tt){var it=tt.ref;return{$$typeof:a,type:O,key:K,ref:it!==void 0?it:null,props:tt}}function V(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function x(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return K[tt]})}var R=/\/+/g;function ie(O,K){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):K.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,tt,it,pt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case a:case t:Mt=!0;break;case A:return Mt=O._init,G(Mt(O._payload),K,tt,it,pt)}}if(Mt)return pt=pt(O),Mt=it===""?"."+ie(O,0):it,Wt(pt)?(tt="",Mt!=null&&(tt=Mt.replace(R,"$&/")+"/"),G(pt,K,tt,"",function(Zr){return Zr})):pt!=null&&(N(pt)&&(pt=V(pt,tt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Mt)),K.push(pt)),1;Mt=0;var Ce=it===""?".":it+":";if(Wt(O))for(var re=0;re<O.length;re++)it=O[re],At=Ce+ie(it,re),Mt+=G(it,K,tt,At,pt);else if(re=j(O),typeof re=="function")for(O=re.call(O),re=0;!(it=O.next()).done;)it=it.value,At=Ce+ie(it,re++),Mt+=G(it,K,tt,At,pt);else if(At==="object"){if(typeof O.then=="function")return G(Ie(O),K,tt,it,pt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(O,K,tt){if(O==null)return O;var it=[],pt=0;return G(O,it,"","",function(At){return K.call(tt,At,pt++)}),it}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:W,forEach:function(O,K,tt){W(O,function(){K.apply(this,arguments)},tt)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=S,_t.Children=Ht,_t.Component=ut,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=ct,_t.StrictMode=s,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,K,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=et({},O.props),pt=O.key;if(K!=null)for(At in K.key!==void 0&&(pt=""+K.key),K)!b.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(it[At]=K[At]);var At=arguments.length-2;if(At===1)it.children=tt;else if(1<At){for(var Mt=Array(At),Ce=0;Ce<At;Ce++)Mt[Ce]=arguments[Ce+2];it.children=Mt}return I(O.type,pt,it)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,K,tt){var it,pt={},At=null;if(K!=null)for(it in K.key!==void 0&&(At=""+K.key),K)b.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=K[it]);var Mt=arguments.length-2;if(Mt===1)pt.children=tt;else if(1<Mt){for(var Ce=Array(Mt),re=0;re<Mt;re++)Ce[re]=arguments[re+2];pt.children=Ce}if(O&&O.defaultProps)for(it in Mt=O.defaultProps,Mt)pt[it]===void 0&&(pt[it]=Mt[it]);return I(O,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=N,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},_t.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},_t.startTransition=function(O){var K=C.T,tt={};C.T=tt;try{var it=O(),pt=C.S;pt!==null&&pt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(xt,Lt)}catch(At){Lt(At)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),C.T=K}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(O){return C.H.use(O)},_t.useActionState=function(O,K,tt){return C.H.useActionState(O,K,tt)},_t.useCallback=function(O,K){return C.H.useCallback(O,K)},_t.useContext=function(O){return C.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},_t.useEffect=function(O,K){return C.H.useEffect(O,K)},_t.useEffectEvent=function(O){return C.H.useEffectEvent(O)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(O,K,tt){return C.H.useImperativeHandle(O,K,tt)},_t.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},_t.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},_t.useMemo=function(O,K){return C.H.useMemo(O,K)},_t.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},_t.useReducer=function(O,K,tt){return C.H.useReducer(O,K,tt)},_t.useRef=function(O){return C.H.useRef(O)},_t.useState=function(O){return C.H.useState(O)},_t.useSyncExternalStore=function(O,K,tt){return C.H.useSyncExternalStore(O,K,tt)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.0",_t}var T_;function am(){return T_||(T_=1,_d.exports=sS()),_d.exports}var Ma=am(),vd={exports:{}},cl={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function aS(){return A_||(A_=1,(function(a){function t(G,W){var ht=G.length;G.push(W);t:for(;0<ht;){var Lt=ht-1>>>1,Ht=G[Lt];if(0<l(Ht,W))G[Lt]=W,G[ht]=Ht,ht=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var W=G[0],ht=G.pop();if(ht!==W){G[0]=ht;t:for(var Lt=0,Ht=G.length,O=Ht>>>1;Lt<O;){var K=2*(Lt+1)-1,tt=G[K],it=K+1,pt=G[it];if(0>l(tt,ht))it<Ht&&0>l(pt,tt)?(G[Lt]=pt,G[it]=ht,Lt=it):(G[Lt]=tt,G[K]=ht,Lt=K);else if(it<Ht&&0>l(pt,ht))G[Lt]=pt,G[it]=ht,Lt=it;else break t}}return W}function l(G,W){var ht=G.sortIndex-W.sortIndex;return ht!==0?ht:G.id-W.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,S=null,U=3,j=!1,Z=!1,et=!1,$=!1,ut=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function zt(G){for(var W=i(v);W!==null;){if(W.callback===null)s(v);else if(W.startTime<=G)s(v),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(v)}}function Wt(G){if(et=!1,zt(G),!Z)if(i(_)!==null)Z=!0,xt||(xt=!0,x());else{var W=i(v);W!==null&&Ie(Wt,W.startTime-G)}}var xt=!1,C=-1,b=5,I=-1;function V(){return $?!0:!(a.unstable_now()-I<b)}function N(){if($=!1,xt){var G=a.unstable_now();I=G;var W=!0;try{t:{Z=!1,et&&(et=!1,gt(C),C=-1),j=!0;var ht=U;try{e:{for(zt(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,U=S.priorityLevel;var Ht=Lt(S.expirationTime<=G);if(G=a.unstable_now(),typeof Ht=="function"){S.callback=Ht,zt(G),W=!0;break e}S===i(_)&&s(_),zt(G)}else s(_);S=i(_)}if(S!==null)W=!0;else{var O=i(v);O!==null&&Ie(Wt,O.startTime-G),W=!1}}break t}finally{S=null,U=ht,j=!1}W=void 0}}finally{W?x():xt=!1}}}var x;if(typeof ct=="function")x=function(){ct(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,x=function(){ie.postMessage(null)}}else x=function(){ut(N,0)};function Ie(G,W){C=ut(function(){G(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(G){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var ht=U;U=W;try{return G()}finally{U=ht}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=U;U=G;try{return W()}finally{U=ht}},a.unstable_scheduleCallback=function(G,W,ht){var Lt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,G={id:A++,callback:W,priorityLevel:G,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Lt?(G.sortIndex=ht,t(v,G),i(_)===null&&G===i(v)&&(et?(gt(C),C=-1):et=!0,Ie(Wt,ht-Lt))):(G.sortIndex=Ht,t(_,G),Z||j||(Z=!0,xt||(xt=!0,x()))),G},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(G){var W=U;return function(){var ht=U;U=W;try{return G.apply(this,arguments)}finally{U=ht}}}})(Td)),Td}var S_;function oS(){return S_||(S_=1,Ed.exports=aS()),Ed.exports}var Ad={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function lS(){if(b_)return Qe;b_=1;var a=am();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:U,fetchPriority:j}):A==="script"&&s.d.X(_,{crossOrigin:S,integrity:U,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=p(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var R_;function uS(){if(R_)return Ad.exports;R_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ad.exports=lS(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function cS(){if(w_)return cl;w_=1;var a=oS(),t=am(),i=uS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return _(c),e;if(f===o)return _(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,U=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ut:return"Profiler";case $:return"StrictMode";case Wt:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function tt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var it=O(null),pt=O(null),At=O(null),Mt=O(null);function Ce(e,n){switch(tt(At,n),tt(pt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),tt(it,e)}function re(){K(it),K(pt),K(At)}function Zr(e){e.memoizedState!==null&&tt(Mt,e);var n=it.current,r=jy(n,e.type);n!==r&&(tt(pt,e),tt(it,r))}function Hs(e){pt.current===e&&(K(it),K(pt)),Mt.current===e&&(K(Mt),sl._currentValue=ht)}var Gs,Fs;function $n(e){if(Gs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gs=n&&n[1]||"",Fs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Fs}var ro=!1;function $r(e,n){if(!e||ro)return"";ro=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(c=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(o===w.length||c===k.length)for(o=w.length-1,c=k.length-1;1<=o&&0<=c&&w[o]!==k[c];)c--;for(;1<=o&&0<=c;o--,c--)if(w[o]!==k[c]){if(o!==1||c!==1)do if(o--,c--,0>c||w[o]!==k[c]){var H=`
`+w[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{ro=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function so(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return $n("Activity");default:return""}}function ao(e){try{var n="",r=null;do n+=so(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,er=a.unstable_cancelCallback,_h=a.unstable_shouldYield,ql=a.unstable_requestPaint,$e=a.unstable_now,Jr=a.unstable_getCurrentPriorityLevel,oo=a.unstable_ImmediatePriority,lo=a.unstable_UserBlockingPriority,nr=a.unstable_NormalPriority,vh=a.unstable_LowPriority,jl=a.unstable_IdlePriority,Hl=a.log,Gl=a.unstable_setDisableYieldValue,Un=null,Pe=null;function vn(e){if(typeof Hl=="function"&&Gl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Ql,Fl=Math.log,Qs=Math.LN2;function Ql(e){return e>>>=0,e===0?32:31-(Fl(e)/Qs|0)|0}var Jn=256,Wr=262144,pe=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Wn(o):(g&=E,g!==0?c=Wn(g):r||(r=E&~e,r!==0&&(c=Wn(r))))):(E=o&~f,E!==0?c=Wn(E):g!==0?c=Wn(g):r||(r=o&~e,r!==0&&(c=Wn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Eh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ts(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Th(e,n,r,o,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ce(r),Q=1<<H;E[H]=0,w[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&es(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function es(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function uo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function co(e,n){var r=n&-n;return r=(r&42)!==0?1:ns(r),(r&(e.suspendedLanes|n))!==0?0:r}function ns(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function Ln(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Me="__reactProps$"+Pn,ni="__reactContainer$"+Pn,Ks="__reactEvents$"+Pn,Ah="__reactListeners$"+Pn,Xl="__reactHandles$"+Pn,Zl="__reactResources$"+Pn,ii="__reactMarker$"+Pn;function Ys(e){delete e[ye],delete e[Me],delete e[Ks],delete e[Ah],delete e[Xl]}function ri(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Xy(e);e!==null;){if(r=e[ye])return r;e=Xy(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ii]=!0}var ho=new Set,fo={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(fo[e]=n,e=0;e<n.length;e++)ho.add(n[e])}var mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},po={};function $l(e){return ge.call(po,e)?!0:ge.call(go,e)?!1:mo.test(e)?po[e]=!0:(go[e]=!0,!1)}function Xs(e,n,r){if($l(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=yo(e,n,""+e[n])}}function is(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rs=/[\n"\\]/g;function en(e){return e.replace(rs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?_o(e,g,Ue(n)):r!=null?_o(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function Jl(e,n,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function _o(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Wl(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||tu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Eo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&vo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&vo(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var To=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,ui=null;function ss(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Me]||null;if(!c)throw Error(s(90));Zs(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&is(o)}break t;case"textarea":Wl(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var Ws=!1;function lr(e,n,r){if(Ws)return e(n,r);Ws=!0;try{var o=e(n);return o}finally{if(Ws=!1,(or!==null||ui!==null)&&(Yu(),or&&(n=or,e=ui,ui=or=null,ss(n),e)))for(n=0;n<e.length;n++)ss(e[n])}}function zn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){as=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{as=!1}var ci=null,Ao=null,os=null;function So(){if(os)return os;var e,n=Ao,r=n.length,o,c="value"in ci?ci.value:ci.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===c[f-o];o++);return os=c.slice(e,1<o?1-o:void 0)}function ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function Bn(){return!1}function ke(e){function n(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ke(Di),ur=S({},Di,{view:0,detail:0}),bo=ke(ur),cr,ta,fi,ea=S({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(cr=e.screenX-fi.screenX,ta=e.screenY-fi.screenY):ta=cr=0,fi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Ro=ke(ea),us=S({},ea,{dataTransfer:0}),nu=ke(us),iu=S({},ur,{relatedTarget:0}),cs=ke(iu),wo=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=ke(wo),na=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),su=ke(na),au=S({},Di,{data:0}),di=ke(au),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function hr(){return cu}var Je=S({},ur,{key:function(e){if(e.key){var n=ou[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=ke(Je),fu=S({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ke(fu),u=S({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=ke(u),y=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(y),L=S({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(L),J=S({},Di,{newState:0,oldState:0}),Et=ke(J),he=[9,13,27,32],Bt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var Sn=An&&"TextEvent"in window&&!se,mi=An&&(!Bt||se&&8<se&&11>=se),qn=" ",jn=!1;function hs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function I0(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(jn=!0,qn);case"textInput":return e=n.data,e===qn&&jn?null:e;default:return null}}function C0(e,n){if(ra)return e==="compositionend"||!Bt&&hs(e,n)?(e=So(),os=Ao=ci=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var D0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D0[e.type]:n==="textarea"}function Wm(e,n,r,o){or?ui?ui.push(o):ui=[o]:or=o,n=ec(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Io=null,Co=null;function N0(e){xy(e,0)}function du(e){var n=cn(e);if(is(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(An){var Sh;if(An){var bh="oninput"in document;if(!bh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),bh=typeof ng.oninput=="function"}Sh=bh}else Sh=!1;eg=Sh&&(!document.documentMode||9<document.documentMode)}function ig(){Io&&(Io.detachEvent("onpropertychange",rg),Co=Io=null)}function rg(e){if(e.propertyName==="value"&&du(Co)){var n=[];Wm(n,Co,e,Tn(e)),lr(N0,n)}}function O0(e,n,r){e==="focusin"?(ig(),Io=n,Co=r,Io.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Co)}function M0(e,n){if(e==="click")return du(n)}function U0(e,n){if(e==="input"||e==="change")return du(n)}function x0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:x0;function Do(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!ge.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var r=sg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sg(r)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L0=An&&"documentMode"in document&&11>=document.documentMode,sa=null,wh=null,No=null,Ih=!1;function ug(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ih||sa==null||sa!==li(o)||(o=sa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),No&&Do(No,o)||(No=o,o=ec(wh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=sa)))}function fs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var aa={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Ch={},cg={};An&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ds(e){if(Ch[e])return Ch[e];if(!aa[e])return e;var n=aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in cg)return Ch[e]=n[r];return e}var hg=ds("animationend"),fg=ds("animationiteration"),dg=ds("animationstart"),P0=ds("transitionrun"),k0=ds("transitionstart"),z0=ds("transitioncancel"),mg=ds("transitionend"),gg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Hn(e,n){gg.set(e,n),ai(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],oa=0,Nh=0;function gu(){for(var e=oa,n=Nh=oa=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&pg(r,c,f)}}function pu(e,n,r,o){bn[oa++]=e,bn[oa++]=n,bn[oa++]=r,bn[oa++]=o,Nh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,n,r,o){return pu(e,n,r,o),yu(e)}function ms(e,n){return pu(e,null,null,n),yu(e)}function pg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function yu(e){if(50<Jo)throw Jo=0,qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function B0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new B0(e,n,r,o)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,r,o,c,f){var g=0;if(o=e,typeof e=="function")Vh(e)&&(g=1);else if(typeof e=="string")g=FA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,c),e.elementType=I,e.lanes=f,e;case et:return gs(r.children,c,f,n);case $:g=8,c|=24;break;case ut:return e=dn(12,r,n,c|2),e.elementType=ut,e.lanes=f,e;case Wt:return e=dn(13,r,n,c),e.elementType=Wt,e.lanes=f,e;case xt:return e=dn(19,r,n,c),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case gt:g=9;break t;case zt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Mh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function _g(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ao(n)},vg.set(e,n),n)}return{value:e,source:n,stack:ao(n)}}var ua=[],ca=0,vu=null,Oo=0,wn=[],In=0,fr=null,gi=1,pi="";function Vi(e,n){ua[ca++]=Oo,ua[ca++]=vu,vu=e,Oo=n}function Eg(e,n,r){wn[In++]=gi,wn[In++]=pi,wn[In++]=fr,fr=e;var o=gi;e=pi;var c=32-ce(o)-1;o&=~(1<<c),r+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,gi=1<<32-ce(n)+c|r<<c|o,pi=f+e}else gi=1<<f|r<<c|o,pi=e}function xh(e){e.return!==null&&(Vi(e,1),Eg(e,1,0))}function Lh(e){for(;e===vu;)vu=ua[--ca],ua[ca]=null,Oo=ua[--ca],ua[ca]=null;for(;e===fr;)fr=wn[--In],wn[In]=null,pi=wn[--In],wn[In]=null,gi=wn[--In],wn[In]=null}function Tg(e,n){wn[In++]=gi,wn[In++]=pi,wn[In++]=fr,gi=n.id,pi=n.overflow,fr=e}var ze=null,te=null,Vt=!1,dr=null,Cn=!1,Ph=Error(s(519));function mr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Rn(n,e)),Ph}function Ag(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<tl.length;r++)Rt(tl[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Jl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||zy(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||mr(e,!0)}function Sg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function ha(e){if(e!==ze)return!1;if(!Vt)return Sg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||nd(e.type,e.memoizedProps)),r=!r),r&&te&&mr(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=Yy(e)}else n===27?(n=te,Cr(e.type)?(e=od,od=null,te=e):te=n):te=ze?Nn(e.stateNode.nextSibling):null;return!0}function ps(){te=ze=null,Vt=!1}function kh(){var e=dr;return e!==null&&(on===null?on=e:on.push.apply(on,e),dr=null),e}function Vo(e){dr===null?dr=[e]:dr.push(e)}var zh=O(null),ys=null,Mi=null;function gr(e,n,r){tt(zh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=zh.current,K(zh)}function Bh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function qh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Bh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Bh(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function fa(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}c=c.return}e!==null&&qh(n,e,r,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return bg(ys,e)}function Tu(e,n){return ys===null&&_s(e),bg(e,n)}function bg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},j0=a.unstable_scheduleCallback,H0=a.unstable_NormalPriority,Ee={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new q0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&j0(H0,function(){e.controller.abort()})}var Uo=null,Hh=0,da=0,ma=null;function G0(e,n){if(Uo===null){var r=Uo=[];Hh=0,da=Kf(),ma={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Hh++,n.then(Rg,Rg),n}function Rg(){if(--Hh===0&&Uo!==null){ma!==null&&(ma.status="fulfilled");var e=Uo;Uo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function F0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var wg=G.S;G.S=function(e,n){uy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&G0(e,n),wg!==null&&wg(e,n)};var vs=O(null);function Gh(){var e=vs.current;return e!==null?e:$t.pooledCache}function Au(e,n){n===null?tt(vs,vs.current):tt(vs,n.pool)}function Ig(){var e=Gh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ga=Error(s(460)),Fh=Error(s(474)),Su=Error(s(542)),bu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(kn,kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw Ts=n,ga}}function Es(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ts=r,ga):r}}var Ts=null;function Ng(){if(Ts===null)throw Error(s(459));var e=Ts;return Ts=null,e}function Og(e){if(e===ga||e===Su)throw Error(s(483))}var pa=null,xo=0;function Ru(e){var n=xo;return xo+=1,pa===null&&(pa=[]),Dg(pa,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===U?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vg(e){function n(M,D){if(e){var P=M.deletions;P===null?(M.deletions=[D],M.flags|=16):P.push(D)}}function r(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=Oi(M,D),M.index=0,M.sibling=null,M}function f(M,D,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<D?(M.flags|=67108866,D):P):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,P,F){return D===null||D.tag!==6?(D=Mh(P,M.mode,F),D.return=M,D):(D=c(D,P),D.return=M,D)}function w(M,D,P,F){var ot=P.type;return ot===et?H(M,D,P.props.children,F,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Es(ot)===D.type)?(D=c(D,P.props),Lo(D,P),D.return=M,D):(D=_u(P.type,P.key,P.props,null,M.mode,F),Lo(D,P),D.return=M,D)}function k(M,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Uh(P,M.mode,F),D.return=M,D):(D=c(D,P.children||[]),D.return=M,D)}function H(M,D,P,F,ot){return D===null||D.tag!==7?(D=gs(P,M.mode,F,ot),D.return=M,D):(D=c(D,P),D.return=M,D)}function Q(M,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,M.mode,P),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return P=_u(D.type,D.key,D.props,null,M.mode,P),Lo(P,D),P.return=M,P;case Z:return D=Uh(D,M.mode,P),D.return=M,D;case b:return D=Es(D),Q(M,D,P)}if(Ie(D)||x(D))return D=gs(D,M.mode,P,null),D.return=M,D;if(typeof D.then=="function")return Q(M,Ru(D),P);if(D.$$typeof===ct)return Q(M,Tu(M,D),P);wu(M,D)}return null}function z(M,D,P,F){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(M,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===ot?w(M,D,P,F):null;case Z:return P.key===ot?k(M,D,P,F):null;case b:return P=Es(P),z(M,D,P,F)}if(Ie(P)||x(P))return ot!==null?null:H(M,D,P,F,null);if(typeof P.then=="function")return z(M,D,Ru(P),F);if(P.$$typeof===ct)return z(M,D,Tu(M,P),F);wu(M,P)}return null}function q(M,D,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(P)||null,E(D,M,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return M=M.get(F.key===null?P:F.key)||null,w(D,M,F,ot);case Z:return M=M.get(F.key===null?P:F.key)||null,k(D,M,F,ot);case b:return F=Es(F),q(M,D,P,F,ot)}if(Ie(F)||x(F))return M=M.get(P)||null,H(D,M,F,ot,null);if(typeof F.then=="function")return q(M,D,P,Ru(F),ot);if(F.$$typeof===ct)return q(M,D,P,Tu(D,F),ot);wu(D,F)}return null}function st(M,D,P,F){for(var ot=null,Pt=null,at=D,St=D=0,Ct=null;at!==null&&St<P.length;St++){at.index>St?(Ct=at,at=null):Ct=at.sibling;var kt=z(M,at,P[St],F);if(kt===null){at===null&&(at=Ct);break}e&&at&&kt.alternate===null&&n(M,at),D=f(kt,D,St),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt,at=Ct}if(St===P.length)return r(M,at),Vt&&Vi(M,St),ot;if(at===null){for(;St<P.length;St++)at=Q(M,P[St],F),at!==null&&(D=f(at,D,St),Pt===null?ot=at:Pt.sibling=at,Pt=at);return Vt&&Vi(M,St),ot}for(at=o(at);St<P.length;St++)Ct=q(at,M,St,P[St],F),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?St:Ct.key),D=f(Ct,D,St),Pt===null?ot=Ct:Pt.sibling=Ct,Pt=Ct);return e&&at.forEach(function(Mr){return n(M,Mr)}),Vt&&Vi(M,St),ot}function ft(M,D,P,F){if(P==null)throw Error(s(151));for(var ot=null,Pt=null,at=D,St=D=0,Ct=null,kt=P.next();at!==null&&!kt.done;St++,kt=P.next()){at.index>St?(Ct=at,at=null):Ct=at.sibling;var Mr=z(M,at,kt.value,F);if(Mr===null){at===null&&(at=Ct);break}e&&at&&Mr.alternate===null&&n(M,at),D=f(Mr,D,St),Pt===null?ot=Mr:Pt.sibling=Mr,Pt=Mr,at=Ct}if(kt.done)return r(M,at),Vt&&Vi(M,St),ot;if(at===null){for(;!kt.done;St++,kt=P.next())kt=Q(M,kt.value,F),kt!==null&&(D=f(kt,D,St),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return Vt&&Vi(M,St),ot}for(at=o(at);!kt.done;St++,kt=P.next())kt=q(at,M,St,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?St:kt.key),D=f(kt,D,St),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return e&&at.forEach(function(nS){return n(M,nS)}),Vt&&Vi(M,St),ot}function Zt(M,D,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===et){if(D.tag===7){r(M,D.sibling),F=c(D,P.props.children),F.return=M,M=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Es(ot)===D.type){r(M,D.sibling),F=c(D,P.props),Lo(F,P),F.return=M,M=F;break t}r(M,D);break}else n(M,D);D=D.sibling}P.type===et?(F=gs(P.props.children,M.mode,F,P.key),F.return=M,M=F):(F=_u(P.type,P.key,P.props,null,M.mode,F),Lo(F,P),F.return=M,M=F)}return g(M);case Z:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(M,D.sibling),F=c(D,P.children||[]),F.return=M,M=F;break t}else{r(M,D);break}else n(M,D);D=D.sibling}F=Uh(P,M.mode,F),F.return=M,M=F}return g(M);case b:return P=Es(P),Zt(M,D,P,F)}if(Ie(P))return st(M,D,P,F);if(x(P)){if(ot=x(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),ft(M,D,P,F)}if(typeof P.then=="function")return Zt(M,D,Ru(P),F);if(P.$$typeof===ct)return Zt(M,D,Tu(M,P),F);wu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(M,D.sibling),F=c(D,P),F.return=M,M=F):(r(M,D),F=Mh(P,M.mode,F),F.return=M,M=F),g(M)):r(M,D)}return function(M,D,P,F){try{xo=0;var ot=Zt(M,D,P,F);return pa=null,ot}catch(at){if(at===ga||at===Su)throw at;var Pt=dn(29,at,null,M.mode);return Pt.lanes=F,Pt.return=M,Pt}finally{}}}var As=Vg(!0),Mg=Vg(!1),pr=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=yu(e),pg(e,null,r),n}return pu(e,o,n,r),yu(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,uo(e,r)}}function Yh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Xh=!1;function ko(){if(Xh){var e=ma;if(e!==null)throw e}}function zo(e,n,r,o){Xh=!1;var c=e.updateQueue;pr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=w))}if(f!==null){var Q=c.baseState;g=0,H=k=w=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===da&&(Xh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=n;var Zt=r;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){Q=st.call(Zt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call(Zt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=q,w=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(w=Q),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Sr|=g,e.lanes=g,e.memoizedState=Q}}function Ug(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function xg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ug(r[e],n)}var ya=O(null),Iu=O(0);function Lg(e,n){e=Hi,tt(Iu,e),tt(ya,n),Hi=e|n.baseLanes}function Zh(){tt(Iu,Hi),tt(ya,ya.current)}function $h(){Hi=Iu.current,K(ya),K(Iu)}var mn=O(null),Dn=null;function vr(e){var n=e.alternate;tt(fe,fe.current&1),tt(mn,e),Dn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Dn=e)}function Jh(e){tt(fe,fe.current),tt(mn,e),Dn===null&&(Dn=e)}function Pg(e){e.tag===22?(tt(fe,fe.current),tt(mn,e),Dn===null&&(Dn=e)):Er()}function Er(){tt(fe,fe.current),tt(mn,mn.current)}function gn(e){K(mn),Dn===e&&(Dn=null),K(fe)}var fe=O(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||sd(r)||ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Tt=null,Yt=null,Te=null,Du=!1,_a=!1,Ss=!1,Nu=0,Bo=0,va=null,Q0=0;function le(){throw Error(s(321))}function Wh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function tf(e,n,r,o,c,f){return xi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Ep:pf,Ss=!1,f=r(o,c),Ss=!1,_a&&(f=zg(n,r,o,c)),kg(e),f}function kg(e){G.H=Ho;var n=Yt!==null&&Yt.next!==null;if(xi=0,Te=Yt=Tt=null,Du=!1,Bo=0,va=null,n)throw Error(s(300));e===null||Ae||(e=e.dependencies,e!==null&&Eu(e)&&(Ae=!0))}function zg(e,n,r,o){Tt=e;var c=0;do{if(_a&&(va=null),Bo=0,_a=!1,25<=c)throw Error(s(301));if(c+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Tp,f=n(r,o)}while(_a);return f}function K0(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function ef(){var e=Nu!==0;return Nu=0,e}function nf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function rf(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}xi=0,Te=Yt=Tt=null,_a=!1,Bo=Nu=0,va=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,va===null&&(va=[]),e=Dg(va,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ep:pf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===ct)return Be(e)}throw Error(s(438,String(e)))}function sf(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ou(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Li(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=de();return af(n,Yt,e)}function af(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,w=null,k=n,H=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(It&Q)===Q:(xi&Q)===Q){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===da&&(H=!0);else if((xi&z)===z){k=k.next,z===da&&(H=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=Q,g=f):w=w.next=Q,Tt.lanes|=z,Sr|=z;Q=k.action,Ss&&r(f,Q),f=k.hasEagerState?k.eagerState:r(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=Q,Sr|=Q;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!fn(f,e.memoizedState)&&(Ae=!0,H&&(r=ma,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function of(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Bg(e,n,r){var o=Tt,c=de(),f=Vt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!fn((Yt||c).memoizedState,r);if(g&&(c.memoizedState=r,Ae=!0),c=c.queue,cf(Hg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},jg.bind(null,o,c,r,n),null),$t===null)throw Error(s(349));f||(xi&127)!==0||qg(o,n,r)}return r}function qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Ou(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function jg(e,n,r,o){n.value=r,n.getSnapshot=o,Gg(n)&&Fg(e)}function Hg(e,n,r){return r(function(){Gg(n)&&Fg(e)})}function Gg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Fg(e){var n=ms(e,2);n!==null&&ln(n,e,2)}function lf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),Ss){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Qg(e,n,r,o){return e.baseState=r,af(e,Yt,typeof o=="function"?o:Li)}function Y0(e,n,r,o,c){if(Lu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Kg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Kg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(c,o),w=G.S;w!==null&&w(g,E),Yg(e,n,E)}catch(k){uf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(c,o),Yg(e,n,f)}catch(k){uf(e,n,k)}}function Yg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Xg(e,n,o)},function(o){return uf(e,n,o)}):Xg(e,n,r)}function Xg(e,n,r){n.status="fulfilled",n.value=r,Zg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Kg(e,r)))}function uf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Zg(n),n=n.next;while(n!==o)}e.action=null}function Zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(Vt){var r=$t.formState;if(r!==null){t:{var o=Tt;if(Vt){if(te){e:{for(var c=te,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=Nn(c.nextSibling),o=c.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},r.queue=o,r=yp.bind(null,Tt,o),o.dispatch=r,o=lf(!1),f=gf.bind(null,Tt,!1,o.queue),o=We(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=Y0.bind(null,Tt,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function Wg(e){var n=de();return tp(n,Yt,e)}function tp(e,n,r){if(n=af(e,n,$g)[0],e=Mu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===ga?Su:g}else o=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Ea(9,{destroy:void 0},X0.bind(null,c,r),null)),[o,f,e]}function X0(e,n){e.action=n}function ep(e){var n=de(),r=Yt;if(r!==null)return tp(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Ou(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function np(){return de().memoizedState}function Uu(e,n,r,o){var c=We();Tt.flags|=e,c.memoizedState=Ea(1|n,{destroy:void 0},r,o===void 0?null:o)}function xu(e,n,r,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Yt!==null&&o!==null&&Wh(o,Yt.memoizedState.deps)?c.memoizedState=Ea(n,f,r,o):(Tt.flags|=e,c.memoizedState=Ea(1|n,f,r,o))}function ip(e,n){Uu(8390656,8,e,n)}function cf(e,n){xu(2048,8,e,n)}function Z0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Ou(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function rp(e){var n=de().memoizedState;return Z0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return xu(4,2,e,n)}function ap(e,n){return xu(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,r){r=r!=null?r.concat([e]):null,xu(4,4,op.bind(null,n,e),r)}function hf(){}function up(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function cp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wh(n,o[1]))return o[0];if(o=e(),Ss){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function ff(e,n,r){return r===void 0||(xi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=hy(),Tt.lanes|=e,Sr|=e,r)}function hp(e,n,r,o){return fn(r,n)?r:ya.current!==null?(e=ff(e,r,o),fn(e,n)||(Ae=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(It&261930)===0?(Ae=!0,e.memoizedState=r):(e=hy(),Tt.lanes|=e,Sr|=e,n)}function fp(e,n,r,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,gf(e,!1,n,r);try{var w=c(),k=G.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=F0(w,o);jo(e,n,H,_n(e))}else jo(e,n,o,_n(e))}catch(Q){jo(e,n,{then:function(){},status:"rejected",reason:Q},_n())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function $0(){}function df(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=dp(e).queue;fp(e,c,n,ht,r===null?$0:function(){return mp(e),r(o)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},_n())}function mf(){return Be(sl)}function gp(){return de().memoizedState}function pp(){return de().memoizedState}function J0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=yr(r);var o=_r(n,e,r);o!==null&&(ln(o,n,r),Po(o,n,r)),n={cache:jh()},e.payload=n;return}n=n.return}}function W0(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Lu(e)?_p(n,r):(r=Oh(e,n,r,o),r!==null&&(ln(r,e,o),vp(r,n,o)))}function yp(e,n,r){var o=_n();jo(e,n,r,o)}function jo(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))_p(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return pu(e,n,c,0),$t===null&&gu(),!1}catch{}finally{}if(r=Oh(e,n,c,o),r!==null)return ln(r,e,o),vp(r,n,o),!0}return!1}function gf(e,n,r,o){if(o={lane:2,revertLane:Kf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(s(479))}else n=Oh(e,r,o,2),n!==null&&ln(n,e,2)}function Lu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function _p(e,n){_a=Du=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,uo(e,r)}}var Ho={readContext:Be,use:Vu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ho.useEffectEvent=le;var Ep={readContext:Be,use:Vu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:ip,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Uu(4194308,4,op.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(Ss){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var c=r(n);if(Ss){vn(!0);try{r(n)}finally{vn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=W0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,r=yp.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:hf,useDeferredValue:function(e,n){var r=We();return ff(r,e,n)},useTransition:function(){var e=lf(!1);return e=fp.bind(null,Tt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,c=We();if(Vt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(It&127)!==0||qg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ip(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},jg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=$t.identifierPrefix;if(Vt){var r=pi,o=gi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Q0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=gf.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return We().memoizedState=J0.bind(null,Tt)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},pf={readContext:Be,use:Vu,useCallback:up,useContext:Be,useEffect:cf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:Mu,useRef:np,useState:function(){return Mu(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return hp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Mu(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:mf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var r=de();return Qg(r,Yt,e,n)},useMemoCache:sf,useCacheRefresh:pp};pf.useEffectEvent=rp;var Tp={readContext:Be,use:Vu,useCallback:up,useContext:Be,useEffect:cf,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:of,useRef:np,useState:function(){return of(Li)},useDebugValue:hf,useDeferredValue:function(e,n){var r=de();return Yt===null?ff(r,e,n):hp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=of(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:mf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var r=de();return Yt!==null?Qg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:sf,useCacheRefresh:pp};Tp.useEffectEvent=rp;function yf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _f={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),c=yr(o);c.payload=n,r!=null&&(c.callback=r),n=_r(e,c,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),c=yr(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=_r(e,c,o),n!==null&&(ln(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(ln(n,e,r),Po(n,e,r))}};function Ap(e,n,r,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Do(r,o)||!Do(c,f):!0}function Sp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function bs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function bp(e){mu(e)}function Rp(e){console.error(e)}function wp(e){mu(e)}function Pu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ip(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){Pu(e,n)},r}function Cp(e){return e=yr(e),e.tag=3,e}function Dp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Ip(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ip(n,r,o),typeof c!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tA(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&fa(n,r,c,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Xu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Gf(e,o,c)),!1;case 22:return r.flags|=65536,o===bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Gf(e,o,c)),!1}throw Error(s(435,r.tag))}return Gf(e,o,c),Xu(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Ph&&(e=Error(s(422),{cause:o}),Vo(Rn(e,r)))):(o!==Ph&&(n=Error(s(423),{cause:o}),Vo(Rn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,r),c=vf(e.stateNode,o,c),Yh(e,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=Rn(f,r),$o===null?$o=[f]:$o.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=vf(r.stateNode,o,e),Yh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Cp(c),Dp(c,e,r,o),Yh(r,c),!1}r=r.return}while(r!==null);return!1}var Ef=Error(s(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?Mg(n,null,r,o):As(n,e.child,r,o)}function Np(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return _s(n),o=tf(e,n,r,g,f,c),E=ef(),e!==null&&!Ae?(nf(e,n,c),Pi(e,n,c)):(Vt&&E&&xh(n),n.flags|=1,qe(e,n,o,c),n.child)}function Op(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Vp(e,n,f,o,c)):(e=_u(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Do,r(g,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Vp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Cf(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return Tf(e,n,r,o,c)}function Mp(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Up(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Lg(n,f):Zh(),Pg(n);else return o=n.lanes=536870912,Up(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Au(n,f.cachePool),Lg(n,f),Er(),n.memoizedState=null):(e!==null&&Au(n,null),Zh(),Er());return qe(e,n,c,r),n.child}function Go(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Up(e,n,r,o,c){var f=Gh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Au(n,null),Zh(),Pg(n),e!==null&&fa(e,n,o,!0),n.childLanes=c,null}function ku(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,r){return As(n,e.child,null,r),e=ku(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function eA(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ku(n,o),n.lanes=536870912,Go(null,e);if(Jh(n),(e=te)?(e=Ky(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||fa(e,n,r,!1),c=(r&e.childLanes)!==0,Ae||c){if(o=$t,o!==null&&(g=co(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ms(e,g),ln(o,e,g),Ef;Xu(),n=xp(e,n,r)}else e=f.treeContext,te=Nn(g.nextSibling),ze=n,Vt=!0,dr=null,Cn=!1,e!==null&&Tg(n,e),n=ku(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Tf(e,n,r,o,c){return _s(n),r=tf(e,n,r,o,void 0,c),o=ef(),e!==null&&!Ae?(nf(e,n,c),Pi(e,n,c)):(Vt&&o&&xh(n),n.flags|=1,qe(e,n,r,c),n.child)}function Lp(e,n,r,o,c,f){return _s(n),n.updateQueue=null,r=zg(n,o,r,c),kg(e),o=ef(),e!==null&&!Ae?(nf(e,n,f),Pi(e,n,f)):(Vt&&o&&xh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Pp(e,n,r,o,c){if(_s(n),n.stateNode===null){var f=la,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Qh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):la,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(yf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_f.enqueueReplaceState(f,f.state,null),zo(n,o,f,c),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=bs(r,E);f.props=w;var k=f.context,H=r.contextType;g=la,typeof H=="object"&&H!==null&&(g=Be(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Sp(n,f,o,g),pr=!1;var z=n.memoizedState;f.state=z,zo(n,o,f,c),ko(),k=n.memoizedState,E||z!==k||pr?(typeof Q=="function"&&(yf(n,r,Q,o),k=n.memoizedState),(w=pr||Ap(n,r,w,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Kh(e,n),g=n.memoizedProps,H=bs(r,g),f.props=H,Q=n.pendingProps,z=f.context,k=r.contextType,w=la,typeof k=="object"&&k!==null&&(w=Be(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==w)&&Sp(n,f,o,w),pr=!1,z=n.memoizedState,f.state=z,zo(n,o,f,c),ko();var q=n.memoizedState;g!==Q||z!==q||pr||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(yf(n,r,E,o),q=n.memoizedState),(H=pr||Ap(n,r,H,o,z,q,w)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,c),n.child=As(n,null,r,c)):qe(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function kp(e,n,r,o){return ps(),n.flags|=256,qe(e,n,r,o),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(e){return{baseLanes:e,cachePool:Ig()}}function bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function zp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(c?vr(n):Er(),(e=te)?(e=Ky(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw mr(n);return ad(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Er(),c=n.mode,E=Bu({mode:"hidden",children:E},c),o=gs(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,Go(null,o)):(vr(n),Rf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=wf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,c=n.mode,o=Bu({mode:"visible",children:o.children},c),E=gs(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,As(n,e.child,null,r),o=n.child,o.memoizedState=Sf(r),o.childLanes=bf(e,g,r),n.memoizedState=Af,n=Go(null,o));else if(vr(n),ad(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,Vo({value:o,source:null,stack:null}),n=wf(e,n,r)}else if(Ae||fa(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=co(g,r),o!==0&&o!==w.retryLane))throw w.retryLane=o,ms(e,o),ln(g,e,o),Ef;sd(E)||Xu(),n=wf(e,n,r)}else sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,te=Nn(E.nextSibling),ze=n,Vt=!0,dr=null,Cn=!1,e!==null&&Tg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return c?(Er(),E=o.fallback,c=n.mode,w=e.child,k=w.sibling,o=Oi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Oi(k,E):(E=gs(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Go(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Sf(r):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Ig(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=bf(e,g,r),n.memoizedState=Af,Go(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Rf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function wf(e,n,r){return As(n,e.child,null,r),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,r)}function If(e,n,r,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function qp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(e,n,o,r),o=Vt?Oo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,r,n);else if(e.tag===19)Bp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Cu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),If(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Cu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}If(n,!0,r,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(fa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function nA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gr(n,Ee,e.memoizedState.cache),ps();break;case 27:case 5:Zr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zp(e,n,r):(vr(n),e=Pi(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(fa(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return qp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,r,n.pendingProps);case 24:gr(n,Ee,e.memoizedState.cache)}return Pi(e,n,r)}function jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Cf(e,r)&&(n.flags&128)===0)return Ae=!1,nA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&Eg(n,Oo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Es(n.elementType),n.type=e,typeof e=="function")Vh(e)?(o=bs(e,o),n.tag=1,n=Pp(null,n,e,o,r)):(n.tag=0,n=Tf(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===zt){n.tag=11,n=Np(null,n,e,o,r);break t}else if(c===C){n.tag=14,n=Op(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return Tf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=bs(o,n.pendingProps),Pp(e,n,o,c,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Kh(e,n),zo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,gr(n,Ee,o),o!==f.cache&&qh(n,[Ee],r,!0),ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kp(e,n,o,r);break t}else if(o!==c){c=Rn(Error(s(424)),n),Vo(c),n=kp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Nn(e.firstChild),ze=n,Vt=!0,dr=null,Cn=!0,r=Mg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ps(),o===c){n=Pi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return zu(e,n),e===null?(r=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=nc(At.current).createElement(r),o[ye]=n,o[Me]=e,je(o,r,e),_e(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zr(n),e===null&&Vt&&(o=n.stateNode=Zy(n.type,n.pendingProps,At.current),ze=n,Cn=!0,c=te,Cr(n.type)?(od=c,te=Nn(o.firstChild)):te=c),qe(e,n,n.pendingProps.children,r),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((c=o=te)&&(o=VA(o,n.type,n.pendingProps,Cn),o!==null?(n.stateNode=o,ze=n,te=Nn(o.firstChild),Cn=!1,c=!0):c=!1),c||mr(n)),Zr(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,nd(c,f)?o=null:g!==null&&nd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=tf(e,n,K0,null,null,r),sl._currentValue=c),zu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=te)&&(r=MA(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||mr(n)),null;case 13:return zp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Np(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,_s(n),c=Be(c),o=o(c),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Op(e,n,n.type,n.pendingProps,r);case 15:return Vp(e,n,n.type,n.pendingProps,r);case 19:return qp(e,n,r);case 31:return eA(e,n,r);case 22:return Mp(e,n,r,n.pendingProps);case 24:return _s(n),o=Be(Ee),e===null?(c=Gh(),c===null&&(c=$t,f=jh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Qh(n),gr(n,Ee,c)):((e.lanes&r)!==0&&(Kh(e,n),zo(n,null,null,r),ko()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),gr(n,Ee,o)):(o=f.cache,gr(n,Ee,o),o!==c.cache&&qh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ki(e){e.flags|=4}function Df(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw Ts=bu,Fh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(n))if(gy())e.flags|=8192;else throw Ts=bu,Fh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kl():536870912,e.lanes|=n,ba|=n)}function Fo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function iA(e,n,r){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ha(n)?ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(ki(n),f!==null?(ee(n),Hp(n,f)):(ee(n),Df(n,c,null,o,r))):f?f!==e.memoizedState?(ki(n),ee(n),Hp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ki(n),ee(n),Df(n,c,e,o,r)),null;case 27:if(Hs(n),r=At.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=it.current,ha(n)?Ag(n):(e=Zy(c,o,r),n.stateNode=e,ki(n))}return ee(n),null;case 5:if(Hs(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=it.current,ha(n))Ag(n);else{var g=nc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ki(n)}}return ee(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,ha(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,r)),e||mr(n,!0)}else e=nc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),qu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&$f(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return ee(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Fo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cu(e),f!==null){for(n.flags|=128,Fo(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)yg(r,e),r=r.sibling;return tt(fe,fe.current&1|2),Vt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Qu&&(n.flags|=128,c=!0,Fo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Cu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*$e()-o.renderingStartTime>Qu&&r!==536870912&&(n.flags|=128,c=!0,Fo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=fe.current,tt(fe,c?r&1|2:r&1),Vt&&Vi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&qu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rA(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return gn(n),$h(),e!==null&&K(vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function Gp(e,n){switch(Lh(n),n.tag){case 3:Ui(Ee),re();break;case 26:case 27:case 5:Hs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(fe);break;case 10:Ui(n.type);break;case 22:case 23:gn(n),$h(),e!==null&&K(vs);break;case 24:Ui(Ee)}}function Qo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=r,k=E;try{k()}catch(H){Qt(c,w,H)}}}o=o.next}while(o!==f)}}catch(H){Qt(n,n.return,H)}}function Fp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{xg(n,r)}catch(o){Qt(e,e.return,o)}}}function Qp(e,n,r){r.props=bs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Ko(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Qt(e,n,c)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(e,n,c)}else r.current=null}function Kp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Qt(e,e.return,c)}}function Nf(e,n,r){try{var o=e.stateNode;wA(o,e.type,r,n),o[Me]=n}catch(c){Qt(e,e.return,c)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function Of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=kn));else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,r),e=e.sibling;e!==null;)Vf(e,n,r),e=e.sibling}function ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ju(e,n,r),e=e.sibling;e!==null;)ju(e,n,r),e=e.sibling}function Xp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,o,r),n[ye]=e,n[Me]=r}catch(f){Qt(e,e.return,f)}}var zi=!1,Se=!1,Mf=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function sA(e,n){if(e=e.containerInfo,td=uc,e=lg(e),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,w=-1,k=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==r||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(w=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===r&&++k===c&&(E=g),z===f&&++H===o&&(w=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(ed={focusedElem:e,selectionRange:r},uc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=bs(r.type,c);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)rd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function $p(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Qo(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var c=bs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Fp(r),o&512&&Ko(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xg(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&Xp(r);case 26:case 5:qi(e,r),n===null&&o&4&&Kp(r),o&512&&Ko(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&ty(e,r);break;case 13:qi(e,r),o&4&&ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=mA.bind(null,r),UA(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,c=zi;var f=Se;zi=o,(Se=n)&&!f?ji(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),zi=c,Se=f}break;case 30:break;default:qi(e,r)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ys(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Bi(e,n,r){for(r=r.child;r!==null;)Wp(e,n,r),r=r.sibling}function Wp(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:Se||yi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||yi(r,n);var o=ae,c=rn;Cr(r.type)&&(ae=r.stateNode,rn=!1),Bi(e,n,r),nl(r.stateNode),ae=o,rn=c;break;case 5:Se||yi(r,n);case 6:if(o=ae,c=rn,ae=null,Bi(e,n,r),ae=o,rn=c,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Va(e)):Fy(ae,r.stateNode));break;case 4:o=ae,c=rn,ae=r.stateNode.containerInfo,rn=!0,Bi(e,n,r),ae=o,rn=c;break;case 0:case 11:case 14:case 15:Tr(2,r,n),Se||Tr(4,r,n),Bi(e,n,r);break;case 1:Se||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Qp(r,n,o)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,Bi(e,n,r),Se=o;break;default:Bi(e,n,r)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(r){Qt(n,n.return,r)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(r){Qt(n,n.return,r)}}function aA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zp),n;default:throw Error(s(435,e.tag))}}function Hu(e,n){var r=aA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=gA.bind(null,e,o);o.then(c,c)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Wp(f,g,c),ae=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var Gn=null;function ny(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Tr(3,e,e.return),Qo(3,e),Tr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Gn;if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ii]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=n_("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;case"meta":if(g=n_("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else i_(c,e.type,e.stateNode);else e.stateNode=e_(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?i_(c,e.type,e.stateNode):e_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),r!==null&&o&4&&Nf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(st){Qt(e,e.return,st)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Nf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Mf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Qt(e,e.return,st)}}break;case 3:if(sc=null,c=Gn,Gn=ic(n.containerInfo),sn(n,e),Gn=c,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(st){Qt(e,e.return,st)}Mf&&(Mf=!1,iy(e));break;case 4:o=Gn,Gn=ic(e.stateNode.containerInfo),sn(n,e),an(e),Gn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:c=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,k=zi,H=Se;if(zi=k||c,Se=H||w,sn(n,e),Se=H,zi=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||zi||Se||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Qt(w,w.return,st)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Qt(w,w.return,st)}}}else if(n.tag===18){if(r===null){w=n;try{var q=w.stateNode;c?Qy(q,!0):Qy(w.stateNode,!1)}catch(st){Qt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Hu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Yp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Of(e);ju(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=Of(e);ju(e,E,g);break;case 3:case 4:var w=r.stateNode.containerInfo,k=Of(e);Vf(e,k,w);break;default:throw Error(s(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Rs(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qp(n,n.return,r),Rs(n);break;case 27:nl(n.stateNode);case 26:case 5:yi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function ji(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(c,f,r),Qo(4,f);break;case 1:if(ji(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Qt(o,o.return,k)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Ug(w[c],E)}catch(k){Qt(o,o.return,k)}}r&&g&64&&Fp(f),Ko(f,f.return);break;case 27:Xp(f);case 26:case 5:ji(c,f,r),r&&o===null&&g&4&&Kp(f),Ko(f,f.return);break;case 12:ji(c,f,r);break;case 31:ji(c,f,r),r&&g&4&&ty(c,f);break;case 13:ji(c,f,r),r&&g&4&&ey(c,f);break;case 22:f.memoizedState===null&&ji(c,f,r),Ko(f,f.return);break;case 30:break;default:ji(c,f,r)}n=n.sibling}}function Uf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Mo(r))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function Fn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,r,o),n=n.sibling}function ry(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,r,o),c&2048&&Qo(9,n);break;case 1:Fn(e,n,r,o);break;case 3:Fn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(c&2048){Fn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Fn(e,n,r,o);break;case 31:Fn(e,n,r,o);break;case 13:Fn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,r,o):Yo(e,n):f._visibility&2?Fn(e,n,r,o):(f._visibility|=2,Ta(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Uf(g,n);break;case 24:Fn(e,n,r,o),c&2048&&xf(n.alternate,n);break;default:Fn(e,n,r,o)}}function Ta(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,w=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(f,g,E,w,c),Qo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Ta(f,g,E,w,c):Yo(f,g):(H._visibility|=2,Ta(f,g,E,w,c)),c&&k&2048&&Uf(g.alternate,g);break;case 24:Ta(f,g,E,w,c),c&&k&2048&&xf(g.alternate,g);break;default:Ta(f,g,E,w,c)}n=n.sibling}}function Yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Yo(r,o),c&2048&&Uf(o.alternate,o);break;case 24:Yo(r,o),c&2048&&xf(o.alternate,o);break;default:Yo(r,o)}n=n.sibling}}var Xo=8192;function Aa(e,n,r){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)sy(e,n,r),e=e.sibling}function sy(e,n,r){switch(e.tag){case 26:Aa(e,n,r),e.flags&Xo&&e.memoizedState!==null&&QA(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,r);break;case 3:case 4:var o=Gn;Gn=ic(e.stateNode.containerInfo),Aa(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Xo,Xo=16777216,Aa(e,n,r),Xo=o):Aa(e,n,r));break;default:Aa(e,n,r)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gu(e)):Zo(e);break;default:Zo(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];xe=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Gu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Gu(n));break;default:Gu(n)}e=e.sibling}}function ly(e,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,xe=o;else t:for(r=e;xe!==null;){o=xe;var c=o.sibling,f=o.return;if(Jp(o),o===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var oA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},lA=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,bt=null,It=0,Ft=0,pn=null,Ar=!1,Sa=!1,Lf=!1,Hi=0,ue=0,Sr=0,ws=0,Pf=0,yn=0,ba=0,$o=null,on=null,kf=!1,Fu=0,uy=0,Qu=1/0,Ku=null,br=null,Ne=0,Rr=null,Ra=null,Gi=0,zf=0,Bf=null,cy=null,Jo=0,qf=null;function _n(){return(qt&2)!==0&&It!==0?It&-It:G.T!==null?Kf():Yl()}function hy(){if(yn===0)if((It&536870912)===0||Vt){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(wa(e,0),wr(e,It,yn,!1)),ts(e,r),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(ws|=r),ue===4&&wr(e,It,yn,!1)),_i(e))}function fy(e,n,r){if((qt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||xn(e,n),c=o?hA(e,n):Hf(e,n,!0),f=o;do{if(c===0){Sa&&!o&&wr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!uA(r)){c=Hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=$o;var w=E.current.memoizedState.isDehydrated;if(w&&(wa(E,g).flags|=256),g=Hf(E,g,!1),g!==2){if(Lf&&!w){E.errorRecoveryDisabledLanes|=f,ws|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){wa(e,0),wr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wr(o,n,yn,!Ar);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Fu+300-$e(),10<c)){if(wr(o,n,yn,!Ar),ti(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=Hy(dy.bind(null,o,r,on,Ku,kf,n,yn,ws,ba,Ar,f,"Throttled",-0,0),c);break t}dy(o,r,on,Ku,kf,n,yn,ws,ba,Ar,f,null,-0,0)}}break}while(!0);_i(e)}function dy(e,n,r,o,c,f,g,E,w,k,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},sy(n,f,Q);var st=(f&62914560)===f?Fu-$e():(f&4194048)===f?uy-$e():0;if(st=KA(Q,st),st!==null){Gi=f,e.cancelPendingCommit=st(Ty.bind(null,e,n,f,r,o,c,g,E,w,H,Q,null,z,q)),wr(e,f,g,!k);return}}Ty(e,n,f,r,o,c,g,E,w)}function uA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wr(e,n,r,o){n&=~Pf,n&=~ws,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&es(e,r,n)}function Yu(){return(qt&6)===0?(Wo(0),!1):!0}function jf(){if(bt!==null){if(Ft===0)var e=bt.return;else e=bt,Mi=ys=null,rf(e),pa=null,xo=0,e=bt;for(;e!==null;)Gp(e.alternate,e),e=e.return;bt=null}}function wa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,DA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,jf(),$t=e,bt=r=Oi(e.current,null),It=n,Ft=0,pn=null,Ar=!1,Sa=xn(e,n),Lf=!1,ba=yn=Pf=ws=Sr=ue=0,on=$o=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ce(o),f=1<<c;n|=e[c],o&=~f}return Hi=n,gu(),r}function my(e,n){Tt=null,G.H=Ho,n===ga||n===Su?(n=Ng(),Ft=3):n===Fh?(n=Ng(),Ft=4):Ft=n===Ef?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(ue=1,Pu(e,Rn(n,e.current)))}function gy(){var e=mn.current;return e===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?e===Dn:!1}function py(){var e=G.H;return G.H=Ho,e===null?Ho:e}function yy(){var e=G.A;return G.A=oA,e}function Xu(){ue=4,Ar||(It&4194048)!==It&&mn.current!==null||(Sa=!0),(Sr&134217727)===0&&(ws&134217727)===0||$t===null||wr($t,It,yn,!1)}function Hf(e,n,r){var o=qt;qt|=2;var c=py(),f=yy();($t!==e||It!==n)&&(Ku=null,wa(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&bt!==null){var E=bt,w=pn;switch(Ft){case 8:jf(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=Ft;if(Ft=0,pn=null,Ia(e,E,w,k),r&&Sa){g=0;break t}break;default:k=Ft,Ft=0,pn=null,Ia(e,E,w,k)}}cA(),g=ue;break}catch(H){my(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=ys=null,qt=o,G.H=c,G.A=f,bt===null&&($t=null,It=0,gu()),g}function cA(){for(;bt!==null;)_y(bt)}function hA(e,n){var r=qt;qt|=2;var o=py(),c=yy();$t!==e||It!==n?(Ku=null,Qu=$e()+500,wa(e,n)):Sa=xn(e,n);t:do try{if(Ft!==0&&bt!==null){n=bt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ia(e,n,f,1);break;case 2:case 9:if(Cg(f)){Ft=0,pn=null,vy(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),_i(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Cg(f)?(Ft=0,pn=null,vy(n)):(Ft=0,pn=null,Ia(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?r_(g):E.stateNode.complete){Ft=0,pn=null;var w=E.sibling;if(w!==null)bt=w;else{var k=E.return;k!==null?(bt=k,Zu(k)):bt=null}break e}}Ft=0,pn=null,Ia(e,n,f,5);break;case 6:Ft=0,pn=null,Ia(e,n,f,6);break;case 8:jf(),ue=6;break t;default:throw Error(s(462))}}fA();break}catch(H){my(e,H)}while(!0);return Mi=ys=null,G.H=o,G.A=c,qt=r,bt!==null?0:($t=null,It=0,gu(),ue)}function fA(){for(;bt!==null&&!_h();)_y(bt)}function _y(e){var n=jp(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Lp(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Lp(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:rf(n);default:Gp(r,n),n=bt=yg(n,Hi),n=jp(r,n,Hi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function Ia(e,n,r,o){Mi=ys=null,rf(n),pa=null,xo=0;var c=n.return;try{if(tA(e,c,n,r,It)){ue=1,Pu(e,Rn(r,e.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,Pu(e,Rn(r,e.current)),bt=null;return}n.flags&32768?(Vt||o===1?e=!0:Sa||(It&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,Ar);return}e=n.return;var r=iA(n.alternate,n,Hi);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);ue===0&&(ue=5)}function Ey(e,n){do{var r=rA(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);ue=6,bt=null}function Ty(e,n,r,o,c,f,g,E,w){e.cancelPendingCommit=null;do $u();while(Ne!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Nh,Th(e,r,f,g,E,w),e===$t&&(bt=$t=null,It=0),Ra=n,Rr=e,Gi=r,zf=f,Bf=c,cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pA(nr,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=W.p,W.p=2,g=qt,qt|=4;try{sA(e,n,r)}finally{qt=g,W.p=c,G.T=o}}Ne=1,Ay(),Sy(),by()}}function Ay(){if(Ne===1){Ne=0;var e=Rr,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=W.p;W.p=2;var c=qt;qt|=4;try{ny(n,e);var f=ed,g=lg(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(w!==null&&Rh(E)){var k=w.start,H=w.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ft=Math.min(w.start,st),Zt=w.end===void 0?ft:Math.min(w.end,st);!q.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var M=ag(E,ft),D=ag(E,Zt);if(M&&D&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),ft>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!td,ed=td=null}finally{qt=c,W.p=o,G.T=r}}e.current=n,Ne=2}}function Sy(){if(Ne===2){Ne=0;var e=Rr,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=W.p;W.p=2;var c=qt;qt|=4;try{$p(e,n.alternate,n)}finally{qt=c,W.p=o,G.T=r}}Ne=3}}function by(){if(Ne===4||Ne===3){Ne=0,ql();var e=Rr,n=Ra,r=Gi,o=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ra=Rr=null,Ry(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(br=null),Ii(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,c=W.p,W.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,W.p=c}}(Gi&3)!==0&&$u(),_i(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===qf?Jo++:(Jo=0,qf=e):Jo=0,Wo(0)}}function Ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function $u(){return Ay(),Sy(),by(),wy()}function wy(){if(Ne!==5)return!1;var e=Rr,n=zf;zf=0;var r=Ii(Gi),o=G.T,c=W.p;try{W.p=32>r?32:r,G.T=null,r=Bf,Bf=null;var f=Rr,g=Gi;if(Ne=0,Ra=Rr=null,Gi=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,oy(f.current),ry(f,f.current,g,r),qt=E,Wo(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{W.p=c,G.T=o,Ry(e,n)}}function Iy(e,n,r){n=Rn(r,n),n=vf(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(ts(e,2),_i(e))}function Qt(e,n,r){if(e.tag===3)Iy(e,e,r);else for(;n!==null;){if(n.tag===3){Iy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=Rn(r,e),r=Cp(2),o=_r(n,r,2),o!==null&&(Dp(r,o,n,e),ts(o,2),_i(o));break}}n=n.return}}function Gf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new lA;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Lf=!0,c.add(r),e=dA.bind(null,e,n,r),n.then(e,e))}function dA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(It&r)===r&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-Fu?(qt&2)===0&&wa(e,0):Pf|=r,ba===It&&(ba=0)),_i(e)}function Cy(e,n){n===0&&(n=Kl()),e=ms(e,n),e!==null&&(ts(e,n),_i(e))}function mA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cy(e,r)}function gA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Cy(e,r)}function pA(e,n){return De(e,n)}var Ju=null,Ca=null,Ff=!1,Wu=!1,Qf=!1,Ir=0;function _i(e){e!==Ca&&e.next===null&&(Ca===null?Ju=Ca=e:Ca=Ca.next=e),Wu=!0,Ff||(Ff=!0,_A())}function Wo(e,n){if(!Qf&&Wu){Qf=!0;do for(var r=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Vy(o,f))}else f=It,f=ti(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xn(o,f)||(r=!0,Vy(o,f));o=o.next}while(r);Qf=!1}}function yA(){Dy()}function Dy(){Wu=Ff=!1;var e=0;Ir!==0&&CA()&&(e=Ir);for(var n=$e(),r=null,o=Ju;o!==null;){var c=o.next,f=Ny(o,n);f===0?(o.next=null,r===null?Ju=c:r.next=c,c===null&&(Ca=r)):(r=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=c}Ne!==0&&Ne!==5||Wo(e),Ir!==0&&(Ir=0)}function Ny(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=c[g];w===-1?((E&r)===0||(E&o)!==0)&&(c[g]=Eh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=It,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ii(r)){case 2:case 8:r=lo;break;case 32:r=nr;break;case 268435456:r=jl;break;default:r=nr}return o=Oy.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var o=It;return o=ti(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Ny(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Oy.bind(null,e):null)}function Vy(e,n){if($u())return null;fy(e,n,!0)}function _A(){NA(function(){(qt&6)!==0?De(oo,yA):Dy()})}function Kf(){if(Ir===0){var e=da;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ir=e}return Ir}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Uy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function vA(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=My((c[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?My(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ir!==0){var w=g?Uy(c,g):new FormData(c);df(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Uy(c,g):new FormData(c),df(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Yf=0;Yf<Dh.length;Yf++){var Xf=Dh[Yf],EA=Xf.toLowerCase(),TA=Xf[0].toUpperCase()+Xf.slice(1);Hn(EA,"on"+TA)}Hn(hg,"onAnimationEnd"),Hn(fg,"onAnimationIteration"),Hn(dg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(P0,"onTransitionRun"),Hn(k0,"onTransitionStart"),Hn(z0,"onTransitionCancel"),Hn(mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function xy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(H){mu(H)}c.currentTarget=null,f=w}}}}function Rt(e,n){var r=n[Ks];r===void 0&&(r=n[Ks]=new Set);var o=e+"__bubble";r.has(o)||(Ly(n,e,2,!1),r.add(o))}function Zf(e,n,r){var o=0;n&&(o|=4),Ly(r,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[tc]){e[tc]=!0,ho.forEach(function(r){r!=="selectionchange"&&(AA.has(r)||Zf(r,!1,e),Zf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Zf("selectionchange",!1,n))}}function Ly(e,n,r,o){switch(h_(n)){case 2:var c=ZA;break;case 8:c=$A;break;default:c=fd}r=c.bind(null,n,r,e),c=void 0,!as||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Jf(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}lr(function(){var k=f,H=Tn(r),Q=[];t:{var z=gg.get(e);if(z!==void 0){var q=hi,st=e;switch(e){case"keypress":if(ls(r)===0)break t;case"keydown":case"keyup":q=hu;break;case"focusin":st="focus",q=cs;break;case"focusout":st="blur",q=cs;break;case"beforeblur":case"afterblur":q=cs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case hg:case fg:case dg:q=ru;break;case mg:q=T;break;case"scroll":case"scrollend":q=bo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ni;break;case"toggle":case"beforetoggle":q=Et}var ft=(n&4)!==0,Zt=!ft&&(e==="scroll"||e==="scrollend"),M=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=k,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||M===null||(F=zn(D,M),F!=null&&ft.push(el(D,F,P))),Zt)break;D=D.return}0<ft.length&&(z=new q(z,st,null,r,H),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==To&&(st=r.relatedTarget||r.fromElement)&&(ri(st)||st[ni]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=k,st=st?ri(st):null,st!==null&&(Zt=h(st),ft=st.tag,st!==Zt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ft=Ro,F="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ni,F="onPointerLeave",M="onPointerEnter",D="pointer"),Zt=q==null?z:cn(q),P=st==null?z:cn(st),z=new ft(F,D+"leave",q,r,H),z.target=Zt,z.relatedTarget=P,F=null,ri(H)===k&&(ft=new ft(M,D+"enter",st,r,H),ft.target=P,ft.relatedTarget=Zt,F=ft),Zt=F,q&&st)e:{for(ft=SA,M=q,D=st,P=0,F=M;F;F=ft(F))P++;F=0;for(var ot=D;ot;ot=ft(ot))F++;for(;0<P-F;)M=ft(M),P--;for(;0<F-P;)D=ft(D),F--;for(;P--;){if(M===D||D!==null&&M===D.alternate){ft=M;break e}M=ft(M),D=ft(D)}ft=null}else ft=null;q!==null&&Py(Q,z,q,ft,!1),st!==null&&Zt!==null&&Py(Q,Zt,st,ft,!0)}}t:{if(z=k?cn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=tg;else if(Jm(z))if(eg)Pt=U0;else{Pt=V0;var at=O0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&$s(k.elementType)&&(Pt=tg):Pt=M0;if(Pt&&(Pt=Pt(e,k))){Wm(Q,Pt,r,H);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&_o(z,"number",z.value)}switch(at=k?cn(k):window,e){case"focusin":(Jm(at)||at.contentEditable==="true")&&(sa=at,wh=k,No=null);break;case"focusout":No=wh=sa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,ug(Q,r,H);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":ug(Q,r,H)}var St;if(Bt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ra?hs(e,r)&&(Ct="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ct="onCompositionStart");Ct&&(mi&&r.locale!=="ko"&&(ra||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ra&&(St=So()):(ci=H,Ao="value"in ci?ci.value:ci.textContent,ra=!0)),at=ec(k,Ct),0<at.length&&(Ct=new di(Ct,e,null,r,H),Q.push({event:Ct,listeners:at}),St?Ct.data=St:(St=ia(r),St!==null&&(Ct.data=St)))),(St=Sn?I0(e,r):C0(e,r))&&(Ct=ec(k,"onBeforeInput"),0<Ct.length&&(at=new di("onBeforeInput","beforeinput",null,r,H),Q.push({event:at,listeners:Ct}),at.data=St)),vA(Q,e,k,r,H)}xy(Q,n)})}function el(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ec(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,r),c!=null&&o.unshift(el(e,c,f)),c=zn(e,n),c!=null&&o.push(el(e,c,f))),e.tag===3)return o;e=e.return}return[]}function SA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Py(e,n,r,o,c){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||k===null||(w=k,c?(k=zn(r,f),k!=null&&g.unshift(el(r,k,w))):c||(k=zn(r,f),k!=null&&g.push(el(r,k,w)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var bA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(bA,`
`).replace(RA,"")}function zy(e,n){return n=ky(n),ky(e)===n}function Xt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":Eo(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=kn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Xs(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=eu.get(r)||r,Xs(e,r,o))}}function Wf(e,n,r,o,c,f){switch(r){case"style":Eo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Xs(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,g,r,null)}}c&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=c=null,w=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(e,n,o,H,r,null)}}Jl(e,f,E,w,k,g,c,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,c,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,g,E,r,null)}sr(e,o,c,f);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(o=r[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,w,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Rt(tl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,k,o,r,null)}return;default:if($s(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Wf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function wA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,k=null,H=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Xt(e,n,z,q,o,Q)}}Zs(e,g,E,w,k,H,f,c);return;case"select":q=g=E=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,w)}for(c in o)if(f=o[c],w=r[c],o.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(e,n,c,f,o,w)}n=E,r=g,o=q,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(e,n,g,c,o,f)}Wl(e,z,q);return;case"option":for(var st in r)if(z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,z)}for(w in o)if(z=o[w],q=r[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,w,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)z=r[ft],r.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(k in o)if(z=o[k],q=r[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if($s(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&Wf(e,n,Zt,void 0,o,z);for(H in o)z=o[H],q=r[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||Wf(e,n,H,z,o,q);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Xt(e,n,M,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Xt(e,n,Q,z,o,q)}function By(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&By(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var w=r[o],k=w.startTime;if(k>E)break;var H=w.transferSize,Q=w.initiatorType;H&&By(Q)&&(w=w.responseEnd,g+=H*(w<E?1:(E-k)/(w-k)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,ed=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var id=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(OA)}:Hy;function OA(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function Fy(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),Va(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")nl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,nl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&nl(e.ownerDocument.body);r=c}while(r);Va(n)}function Qy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rd(r),Ys(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function VA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function MA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function UA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Zy(e,n,r){switch(n=nc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function nl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ys(e)}var On=new Map,$y=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=W.d;W.d={f:xA,r:LA,D:PA,C:kA,L:zA,m:BA,X:jA,S:qA,M:HA};function xA(){var e=Fi.f(),n=Yu();return e||n}function LA(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):Fi.r(e)}var Da=typeof document>"u"?null:document;function Jy(e,n,r){var o=Da;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),$y.has(c)||($y.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function PA(e){Fi.D(e),Jy("dns-prefetch",e,null)}function kA(e,n){Fi.C(e,n),Jy("preconnect",e,n)}function zA(e,n,r){Fi.L(e,n,r);var o=Da;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+en(r.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}On.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(il(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function BA(e,n){Fi.m(e,n);var r=Da;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!On.has(f)&&(e=S({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(rl(f)))return}o=r.createElement("link"),je(o,"link",e),_e(o),r.head.appendChild(o)}}}function qA(e,n,r){Fi.S(e,n,r);var o=Da;if(o&&e){var c=si(o).hoistableStyles,f=Na(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(il(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&ld(e,r);var w=g=o.createElement("link");_e(w),je(w,"link",e),w._p=new Promise(function(k,H){w.onload=k,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function jA(e,n){Fi.X(e,n);var r=Da;if(r&&e){var o=si(r).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=r.querySelector(rl(c)),f||(e=S({src:e,async:!0},n),(n=On.get(c))&&ud(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function HA(e,n){Fi.M(e,n);var r=Da;if(r&&e){var o=si(r).hoistableScripts,c=Oa(e),f=o.get(c);f||(f=r.querySelector(rl(c)),f||(e=S({src:e,async:!0,type:"module"},n),(n=On.get(c))&&ud(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Wy(e,n,r,o){var c=(c=At.current)?ic(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Na(r.href),r=si(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Na(r.href);var f=si(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(il(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||GA(c,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(r),r=si(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+en(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function GA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),_e(n),e.head.appendChild(n))}function Oa(e){return'[src="'+en(e)+'"]'}function rl(e){return"script[async]"+e}function e_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",c),rc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Na(r.href);var f=e.querySelector(il(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=t_(r),(c=On.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),n.state.loading|=4,rc(f,r.precedence,e),n.instance=f;case"script":return f=Oa(r.src),(c=e.querySelector(rl(f)))?(n.instance=c,_e(c),c):(o=r,(c=On.get(f))&&(o=S({},r),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),je(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,r.precedence,e));return n.instance}function rc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function n_(e,n,r){if(sc===null){var o=new Map,c=sc=new Map;c.set(r,o)}else c=sc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[ii]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function i_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function FA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function QA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Na(o.href),f=n.querySelector(il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=t_(o),(c=On.get(c))&&ld(o,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ac.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var cd=0;function KA(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&cd===0&&(cd=62500*IA());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(YA,e),oc=null,ac.call(e))}function YA(e,n){if(!(n.state.loading&4)){var r=oc.get(e);if(r)var o=r.get(null);else{r=new Map,oc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=ac.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function XA(e,n,r,o,c,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function s_(e,n,r,o,c,f,g,E,w,k,H,Q){return e=new XA(e,n,r,g,w,k,H,Q,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Qh(f),e}function a_(e){return e?(e=la,e):la}function o_(e,n,r,o,c,f){c=a_(c),o.context===null?o.context=c:o.pendingContext=c,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(ln(r,e,n),Po(r,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function hd(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=ms(e,67108864);n!==null&&ln(n,e,67108864),hd(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=_n();n=ns(n);var r=ms(e,n);r!==null&&ln(r,e,n),hd(e,n)}}var uc=!0;function ZA(e,n,r,o){var c=G.T;G.T=null;var f=W.p;try{W.p=2,fd(e,n,r,o)}finally{W.p=f,G.T=c}}function $A(e,n,r,o){var c=G.T;G.T=null;var f=W.p;try{W.p=8,fd(e,n,r,o)}finally{W.p=f,G.T=c}}function fd(e,n,r,o){if(uc){var c=dd(o);if(c===null)Jf(e,n,o,cc,r),f_(e,o);else if(WA(c,e,n,r,o))o.stopPropagation();else if(f_(e,o),n&4&&-1<JA.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}_i(f),(qt&6)===0&&(Qu=$e()+500,Wo(0))}}break;case 31:case 13:E=ms(f,2),E!==null&&ln(E,f,2),Yu(),hd(f,2)}if(f=dd(o),f===null&&Jf(e,n,o,cc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Jf(e,n,o,null,r)}}function dd(e){return e=Tn(e),md(e)}var cc=null;function md(e){if(cc=null,e=ri(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jr()){case oo:return 2;case lo:return 8;case nr:case vh:return 32;case jl:return 268435456;default:return 32}default:return 32}}var gd=!1,Dr=null,Nr=null,Or=null,al=new Map,ol=new Map,Vr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function ll(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function WA(e,n,r,o,c){switch(n){case"focusin":return Dr=ll(Dr,e,n,r,o,c),!0;case"dragenter":return Nr=ll(Nr,e,n,r,o,c),!0;case"mouseover":return Or=ll(Or,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return al.set(f,ll(al.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ol.set(f,ll(ol.get(f)||null,e,n,r,o,c)),!0}return!1}function d_(e){var n=ri(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){c_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){c_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=dd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);To=o,r.target.dispatchEvent(o),To=null}else return n=En(r),n!==null&&u_(n),e.blockedOn=r,!1;n.shift()}return!0}function m_(e,n,r){hc(e)&&r.delete(n)}function tS(){gd=!1,Dr!==null&&hc(Dr)&&(Dr=null),Nr!==null&&hc(Nr)&&(Nr=null),Or!==null&&hc(Or)&&(Or=null),al.forEach(m_),ol.forEach(m_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,tS)))}var dc=null;function g_(e){dc!==e&&(dc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,df(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Va(e){function n(w){return fc(w,e)}Dr!==null&&fc(Dr,e),Nr!==null&&fc(Nr,e),Or!==null&&fc(Or,e),al.forEach(n),ol.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)d_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Me]||null;if(typeof f=="function")g||g_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(md(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),g_(r)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function pd(e){this._internalRoot=e}mc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=_n();o_(r,o,e,n,null,null)},mc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.0")throw Error(s(527,y_,"19.2.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Un=gc.inject(eS),Pe=gc}catch{}}return cl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=bp,f=Rp,g=wp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,r,o,null,c,f,g,p_),e[ni]=n.current,$f(e),new pd(n)},cl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=bp,g=Rp,E=wp,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=s_(e,1,!0,n,r??null,o,c,w,f,g,E,p_),n.context=a_(null),r=n.current,o=_n(),o=ns(o),c=yr(o),c.callback=null,_r(r,c,o),r=o,n.current.lanes=r,ts(n,r),_i(n),e[ni]=n.current,$f(e),new mc(n)},cl.version="19.2.0",cl}var I_;function hS(){if(I_)return vd.exports;I_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),vd.exports=cS(),vd.exports}var fS=hS();const dS=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},mS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},aE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,A=h>>2,S=(h&3)<<4|p>>4;let U=(p&15)<<2|v>>6,j=v&63;_||(j=64,d||(U=64)),s.push(i[A],i[S],i[U],i[j])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(sE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):mS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||p==null||v==null||S==null)throw new gS;const U=h<<2|p>>4;if(s.push(U),v!==64){const j=p<<4&240|v>>2;if(s.push(j),S!==64){const Z=v<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(a){const t=sE(a);return aE.encodeByteArray(t,!0)},Vc=function(a){return pS(a).replace(/\./g,"")},oE=function(a){try{return aE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof C_>"u")return;const a=C_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ES=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&oE(a[1]);return t&&JSON.parse(t)},th=()=>{try{return dS()||_S()||vS()||ES()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},lE=a=>th()?.emulatorHosts?.[a],TS=a=>{const t=lE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},uE=()=>th()?.config,cE=a=>th()?.[`_${a}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Vc(JSON.stringify(i)),Vc(JSON.stringify(d)),""].join(".")}const gl={};function bS(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function RS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let D_=!1;function fE(a,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||gl[a]===t||gl[a]||D_)return;gl[a]=t;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",h=bS().prod.length>0;function d(){const U=document.getElementById(s);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,j){U.setAttribute("width","24"),U.setAttribute("id",j),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function v(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{D_=!0,d()},U}function A(U,j){U.setAttribute("id",j),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function S(){const U=RS(s),j=i("text"),Z=document.getElementById(j)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ut=i("preprendIcon"),gt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ct=U.element;p(ct),A($,et);const zt=v();_(gt,ut),ct.append(gt,Z,$,zt),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function IS(){const a=th()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function VS(){return!IS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class tr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=xS,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?LS(h,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,s)}}function LS(a,t){return a.replace(PS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const PS=/\{\$([^}]+)}/g;function kS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ms(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(N_(h)&&N_(d)){if(!Ms(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function N_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function zS(a,t){const i=new BS(a,t);return i.subscribe.bind(i)}class BS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");qS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(a){return a&&a._delegate?a._delegate:a}class Us{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new AS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&t(h,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(a){return a===Is?void 0:a}function GS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new jS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const QS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},KS=Dt.INFO,YS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},XS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=YS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=XS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const ZS=(a,t)=>t.some(i=>a instanceof i);let O_,V_;function $S(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,Ld=new WeakMap,mE=new WeakMap,bd=new WeakMap,lm=new WeakMap;function WS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(zr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&dE.set(i,a)}).catch(()=>{}),lm.set(t,a),t}function t1(a){if(Ld.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Ld.set(a,t)}let Pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Ld.get(a);if(t==="objectStoreNames")return a.objectStoreNames||mE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function e1(a){Pd=a(Pd)}function n1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Rd(this),t,...i);return mE.set(s,t.sort?t.sort():[t]),zr(s)}:JS().includes(a)?function(...t){return a.apply(Rd(this),t),zr(dE.get(this))}:function(...t){return zr(a.apply(Rd(this),t))}}function i1(a){return typeof a=="function"?n1(a):(a instanceof IDBTransaction&&t1(a),ZS(a,$S())?new Proxy(a,Pd):a)}function zr(a){if(a instanceof IDBRequest)return WS(a);if(bd.has(a))return bd.get(a);const t=i1(a);return t!==a&&(bd.set(a,t),lm.set(t,a)),t}const Rd=a=>lm.get(a);function r1(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),p=zr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(zr(d.result),_.oldVersion,_.newVersion,zr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const s1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],wd=new Map;function M_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=a1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||s1.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&_.done]))[0]};return wd.set(t,h),h}e1(a=>({...a,get:(t,i,s)=>M_(t,i)||a.get(t,i,s),has:(t,i)=>!!M_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(l1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function l1(a){return a.getComponent()?.type==="VERSION"}const kd="@firebase/app",U_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new om("@firebase/app"),u1="@firebase/app-compat",c1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",p1="@firebase/database",y1="@firebase/data-connect",_1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",A1="@firebase/installations-compat",S1="@firebase/messaging",b1="@firebase/messaging-compat",R1="@firebase/performance",w1="@firebase/performance-compat",I1="@firebase/remote-config",C1="@firebase/remote-config-compat",D1="@firebase/storage",N1="@firebase/storage-compat",O1="@firebase/firestore",V1="@firebase/ai",M1="@firebase/firestore-compat",U1="firebase",x1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",L1={[kd]:"fire-core",[u1]:"fire-core-compat",[h1]:"fire-analytics",[c1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[p1]:"fire-rtdb",[y1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[A1]:"fire-iid-compat",[S1]:"fire-fcm",[b1]:"fire-fcm-compat",[R1]:"fire-perf",[w1]:"fire-perf-compat",[I1]:"fire-rc",[C1]:"fire-rc-compat",[D1]:"fire-gcs",[N1]:"fire-gcs-compat",[O1]:"fire-fst",[M1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[U1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,P1=new Map,Bd=new Map;function x_(a,t){try{a.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(Bd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,a);for(const i of Mc.values())x_(i,a);for(const i of P1.values())x_(i,a);return!0}function um(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Qn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Nl("app","Firebase",k1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=x1;function gE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:zd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Br.create("bad-app-name",{appName:String(l)});if(i||(i=uE()),!i)throw Br.create("no-options");const h=Mc.get(l);if(h){if(Ms(i,h.options)&&Ms(s,h.config))return h;throw Br.create("duplicate-app",{appName:l})}const d=new FS(l);for(const _ of Bd.values())d.addComponent(_);const p=new z1(i,s,d);return Mc.set(l,p),p}function pE(a=zd){const t=Mc.get(a);if(!t&&a===zd&&uE())return gE();if(!t)throw Br.create("no-app",{appName:a});return t}function qr(a,t,i){let s=L1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ha(new Us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-heartbeat-database",q1=1,Al="firebase-heartbeat-store";let Id=null;function yE(){return Id||(Id=r1(B1,q1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw Br.create("idb-open",{originalErrorMessage:a.message})})),Id}async function j1(a){try{const i=(await yE()).transaction(Al),s=await i.objectStore(Al).get(_E(a));return await i.done,s}catch(t){if(t instanceof tr)Zi.warn(t.message);else{const i=Br.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function L_(a,t){try{const s=(await yE()).transaction(Al,"readwrite");await s.objectStore(Al).put(t,_E(a)),await s.done}catch(i){if(i instanceof tr)Zi.warn(i.message);else{const s=Br.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(s.message)}}}function _E(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1024,G1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>G1){const l=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:s}=Q1(this._heartbeatsCache.heartbeats),l=Vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function Q1(a,t=H1){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),k_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await j1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return L_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function k_(a){return Vc(JSON.stringify({version:2,heartbeats:a})).length}function Y1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(a){Ha(new Us("platform-logger",t=>new o1(t),"PRIVATE")),Ha(new Us("heartbeat",t=>new F1(t),"PRIVATE")),qr(kd,U_,a),qr(kd,U_,"esm2020"),qr("fire-js","")}X1("");var Z1="firebase",$1="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(Z1,$1,"app");function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J1=vE,EE=new Nl("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new om("@firebase/auth");function W1(a,...t){Uc.logLevel<=Dt.WARN&&Uc.warn(`Auth (${Ja}): ${a}`,...t)}function Ac(a,...t){Uc.logLevel<=Dt.ERROR&&Uc.error(`Auth (${Ja}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(a,...t){throw hm(a,...t)}function Xn(a,...t){return hm(a,...t)}function cm(a,t,i){const s={...J1(),[t]:i};return new Nl("auth","Firebase",s).create(t,{appName:a.name})}function Ns(a){return cm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tb(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ri(a,"argument-error"),cm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return EE.create(a,...t)}function mt(a,t,...i){if(!a)throw hm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Ac(t),new Error(t)}function $i(a,t){a||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){return typeof self<"u"&&self.location?.href||""}function eb(){return z_()==="http:"||z_()==="https:"}function z_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eb()||DS()||"connection"in navigator)?navigator.onLine:!0}function ib(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=wS()||NS()}get(){return nb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(a,t){$i(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ab=new Vl(3e4,6e4);function dm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Wa(a,t,i,s,l={}){return AE(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const p=Ol({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...h};return CS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&$a(a.emulatorConfig.host)&&(v.credentials="include"),TE.fetch()(await SE(a,a.config.apiHost,i,p),v)})}async function AE(a,t,i){a._canInitEmulator=!1;const s={...rb,...t};try{const l=new lb(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw pc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw pc(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw cm(a,A,v);Ri(a,A)}}catch(l){if(l instanceof tr)throw l;Ri(a,"network-request-failed",{message:String(l)})}}async function ob(a,t,i,s,l={}){const h=await Wa(a,t,i,s,l);return"mfaPendingCredential"in h&&Ri(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function SE(a,t,i,s){const l=`${t}${i}?${s}`,h=a,d=h.config.emulator?fm(a.config,l):`${a.config.apiScheme}://${l}`;return sb.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class lb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),ab.get())})}}function pc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Xn(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(a,t){return Wa(a,"POST","/v1/accounts:delete",t)}async function xc(a,t){return Wa(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cb(a,t=!1){const i=tn(a),s=await i.getIdToken(t),l=mm(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:pl(Cd(l.auth_time)),issuedAtTime:pl(Cd(l.iat)),expirationTime:pl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Cd(a){return Number(a)*1e3}function mm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=oE(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B_(a){const t=mm(a);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof tr&&hb(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function hb({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(a){const t=a.auth,i=await a.getIdToken(),s=await Sl(a,xc(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const h=l.providerUserInfo?.length?bE(l.providerUserInfo):[],d=mb(a.providerData,h),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,v=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function db(a){const t=tn(a);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function bE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(a,t){const i=await AE(a,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await SE(a,l,"/v1/token",`key=${h}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return a.emulatorConfig&&$a(a.emulatorConfig.host)&&(_.credentials="include"),TE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function pb(a,t){return Wa(a,"POST","/v2/accounts:revokeToken",dm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=B_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await gb(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new ka;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(mt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(a,t){mt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return cb(this,t)}reload(){return db(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Ns(this.auth));const t=await this.getIdToken();return await Sl(this,ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:U,isAnonymous:j,providerData:Z,stsTokenManager:et}=i;mt(S&&et,t,"internal-error");const $=ka.fromJSON(this.name,et);mt(typeof S=="string",t,"internal-error"),Ur(s,t.name),Ur(l,t.name),mt(typeof U=="boolean",t,"internal-error"),mt(typeof j=="boolean",t,"internal-error"),Ur(h,t.name),Ur(d,t.name),Ur(p,t.name),Ur(_,t.name),Ur(v,t.name),Ur(A,t.name);const ut=new Kn({uid:S,auth:t,email:l,emailVerified:U,displayName:s,isAnonymous:j,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:$,createdAt:v,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ut.providerData=Z.map(gt=>({...gt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,s=!1){const l=new ka;l.updateFromServerResponse(i);const h=new Kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Lc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?bE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new ka;p.updateFromIdToken(s);const _=new Kn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function Yi(a){$i(a instanceof Function,"Expected a class definition");let t=q_.get(a);return t?($i(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,q_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}RE.type="NONE";const j_=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(a,t,i){return`firebase:${a}:${t}:${i}`}class za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Sc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await xc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new za(Yi(j_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Yi(j_);const d=Sc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let S;if(typeof A=="string"){const U=await xc(t,{idToken:A}).catch(()=>{});if(!U)break;S=await Kn._fromGetAccountInfoResponse(t,U,A)}else S=Kn._fromJSON(t,A);v!==h&&(p=S),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new za(h,t,s):(h=_[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new za(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OE(t))return"Blackberry";if(VE(t))return"Webos";if(IE(t))return"Safari";if((t.includes("chrome/")||CE(t))&&!t.includes("edge/"))return"Chrome";if(NE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function wE(a=Ze()){return/firefox\//i.test(a)}function IE(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CE(a=Ze()){return/crios\//i.test(a)}function DE(a=Ze()){return/iemobile/i.test(a)}function NE(a=Ze()){return/android/i.test(a)}function OE(a=Ze()){return/blackberry/i.test(a)}function VE(a=Ze()){return/webos/i.test(a)}function gm(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function yb(a=Ze()){return gm(a)&&!!window.navigator?.standalone}function _b(){return OS()&&document.documentMode===10}function ME(a=Ze()){return gm(a)||NE(a)||VE(a)||OE(a)||/windows phone/i.test(a)||DE(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(a,t=[]){let i;switch(a){case"Browser":i=H_(Ze());break;case"Worker":i=`${H_(Ze())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,p)=>{try{const _=t(h);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(a,t={}){return Wa(a,"GET","/v2/passwordPolicy",dm(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=6;class Ab{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Tb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new vb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await xc(this,{idToken:t}),s=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ib()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Ns(this));const i=t?tn(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Eb(this),i=new Ab(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await pb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&W1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function eh(a){return tn(a)}class G_{constructor(t){this.auth=t,this.observer=null,this.addObserver=zS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bb(a){pm=a}function Rb(a){return pm.loadJS(a)}function wb(){return pm.gapiScript}function Ib(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(a,t){const i=um(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ms(h,t??{}))return l;Ri(l,"already-initialized")}return i.initialize({options:t})}function Db(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function Nb(a,t,i){const s=eh(a);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=xE(t),{host:d,port:p}=Ob(t),_=p===null?"":`:${p}`,v={url:`${h}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Ms(v,s.config.emulator)&&Ms(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,$a(d)?(hE(`${h}//${d}${_}`),fE("Auth",!0)):Vb()}function xE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function Ob(a){const t=xE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:F_(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:F_(d)}}}function F_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function Vb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(a,t){return ob(a,"POST","/v1/accounts:signInWithIdp",dm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="http://localhost";class xs extends LE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...h}=i;if(!s||!l)return null;const d=new xs(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ba(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:Mb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ml{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Qi.credential(i,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ml{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ml{constructor(){super("twitter.com")}static credential(t,i){return xs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await Kn._fromIdTokenResponse(t,s,l),d=Q_(s);return new Ga({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Q_(s);return new Ga({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Q_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends tr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Pc(t,i,s,l)}}function PE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(a,h,t,s):h})}async function Ub(a,t,i=!1){const s=await Sl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ga._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(a,t,i=!1){const{auth:s}=a;if(Qn(s.app))return Promise.reject(Ns(s));const l="reauthenticate";try{const h=await Sl(a,PE(s,l,t,a),i);mt(h.idToken,s,"internal-error");const d=mm(h.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(a.uid===p,s,"user-mismatch"),Ga._forOperation(a,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ri(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(a,t,i=!1){if(Qn(a.app))return Promise.reject(Ns(a));const s="signIn",l=await PE(a,s,t),h=await Ga._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}function Pb(a,t,i,s){return tn(a).onIdTokenChanged(t,i,s)}function kb(a,t,i){return tn(a).beforeAuthStateChanged(t,i)}function zb(a,t,i,s){return tn(a).onAuthStateChanged(t,i,s)}function Bb(a){return tn(a).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1e3,jb=10;class zE extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ME(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);_b()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,jb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}zE.type="LOCAL";const Hb=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}BE.type="SESSION";const qE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,h)),_=await Gb(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,_)=>{const v=_m("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const U=S;if(U.data.eventId===v)switch(U.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(U.data.response);break;default:clearTimeout(A),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function Qb(a){Ei().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function Kb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yb(){return navigator?.serviceWorker?.controller||null}function Xb(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",Zb=1,zc="firebaseLocalStorage",GE="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,t){return a.transaction([zc],t?"readwrite":"readonly").objectStore(zc)}function $b(){const a=indexedDB.deleteDatabase(HE);return new Ul(a).toPromise()}function Hd(){const a=indexedDB.open(HE,Zb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(zc,{keyPath:GE})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(zc)?t(s):(s.close(),await $b(),t(await Hd()))})})}async function K_(a,t,i){const s=ih(a,!0).put({[GE]:t,value:i});return new Ul(s).toPromise()}async function Jb(a,t){const i=ih(a,!1).get(t),s=await new Ul(i).toPromise();return s===void 0?null:s.value}function Y_(a,t){const i=ih(a,!0).delete(t);return new Ul(i).toPromise()}const Wb=800,tR=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>tR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Xb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kb(),!this.activeServiceWorker)return;this.sender=new Fb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Yb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await K_(t,kc,"1"),await Y_(t,kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>Jb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=ih(l,!1).getAll();return new Ul(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const eR=FE;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(a,t){return t?Yi(t):(mt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends LE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function nR(a){return Lb(a.auth,new vm(a),a.bypassAuthState)}function iR(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),xb(i,new vm(a),a.bypassAuthState)}async function rR(a){const{auth:t,user:i}=a;return mt(i,t,"internal-error"),Ub(i,new vm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:Ri(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Vl(2e3,1e4);async function aR(a,t,i){if(Qn(a.app))return Promise.reject(Xn(a,"operation-not-supported-in-this-environment"));const s=eh(a);tb(a,t,ym);const l=QE(s,i);return new Cs(s,"signInViaPopup",t,l).executeNotNull()}class Cs extends KE{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=_m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="pendingRedirect",bc=new Map;class lR extends KE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const s=await uR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(a,t){const i=fR(t),s=hR(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function cR(a,t){bc.set(a._key(),t)}function hR(a){return Yi(a._redirectPersistence)}function fR(a){return Sc(oR,a.config.apiKey,a.name)}async function dR(a,t,i=!1){if(Qn(a.app))return Promise.reject(Ns(a));const s=eh(a),l=QE(s,t),d=await new lR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=600*1e3;class gR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!YE(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Xn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function YE({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function pR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(a,t={}){return Wa(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;async function ER(a){if(a.config.emulator)return;const{authorizedDomains:t}=await yR(a);for(const i of t)try{if(TR(i))return}catch{}Ri(a,"unauthorized-domain")}function TR(a){const t=qd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!vR.test(i))return!1;if(_R.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Vl(3e4,6e4);function Z_(){const a=Ei().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function SR(a){return new Promise((t,i)=>{function s(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),i(Xn(a,"network-request-failed"))},timeout:AR.get()})}if(Ei().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ei().gapi?.load)s();else{const l=Ib("iframefcb");return Ei()[l]=()=>{gapi.load?s():i(Xn(a,"network-request-failed"))},Rb(`${wb()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function bR(a){return Rc=Rc||SR(a),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Vl(5e3,15e3),wR="__/auth/iframe",IR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(a){const t=a.config;mt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?fm(t,IR):`https://${a.config.authDomain}/${wR}`,s={apiKey:t.apiKey,appName:a.name,v:Ja},l=DR.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${Ol(s).slice(1)}`}async function OR(a){const t=await bR(a),i=Ei().gapi;return mt(i,a,"internal-error"),t.open({where:document.body,url:NR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Xn(a,"network-request-failed"),p=Ei().setTimeout(()=>{h(d)},RR.get());function _(){Ei().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,UR=600,xR="_blank",LR="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(a,t,i,s=MR,l=UR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...VR,width:s.toString(),height:l.toString(),top:h,left:d},v=Ze().toLowerCase();i&&(p=CE(v)?xR:i),wE(v)&&(t=t||LR,_.scrollbars="yes");const A=Object.entries(_).reduce((U,[j,Z])=>`${U}${j}=${Z},`,"");if(yb(v)&&p!=="_self")return kR(t||"",p),new $_(null);const S=window.open(t||"",p,A);mt(S,a,"popup-blocked");try{S.focus()}catch{}return new $_(S)}function kR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__/auth/handler",BR="emulator/auth/handler",qR=encodeURIComponent("fac");async function J_(a,t,i,s,l,h){mt(a.config.authDomain,a,"auth-domain-config-required"),mt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ja,eventId:l};if(t instanceof ym){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",kS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Ml){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),v=_?`#${qR}=${encodeURIComponent(_)}`:"";return`${jR(a)}?${Ol(p).slice(1)}${v}`}function jR({config:a}){return a.emulator?fm(a,BR):`https://${a.authDomain}/${zR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(t,i,s,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await J_(t,i,s,qd(),l);return PR(t,h,_m())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await J_(t,i,s,qd(),l);return Qb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await OR(t),s=new gR(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const h=l?.[0]?.[Dd];h!==void 0&&i(!!h),Ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ER(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ME()||IE()||gm()}}const GR=HR;var W_="@firebase/auth",tv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KR(a){Ha(new Us("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(a)},v=new Sb(s,l,h,_);return Db(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Us("auth-internal",t=>{const i=eh(t.getProvider("auth").getImmediate());return(s=>new FR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(W_,tv,QR(a)),qr(W_,tv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=300,XR=cE("authIdTokenMaxAge")||YR;let ev=null;const ZR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>XR)return;const l=i?.token;ev!==l&&(ev=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function $R(a=pE()){const t=um(a,"auth");if(t.isInitialized())return t.getImmediate();const i=Cb(a,{popupRedirectResolver:GR,persistence:[eR,Hb,qE]}),s=cE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=ZR(h.toString());kb(i,d,()=>d(i.currentUser)),Pb(i,p=>d(p))}}const l=lE("auth");return l&&Nb(i,`http://${l}`),i}function JR(){return document.getElementsByTagName("head")?.[0]??document}bb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=Xn("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",JR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KR("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,XE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,x){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let x=C.g[3],R;R=b+(x^I&(N^x))+V[0]+3614090360&4294967295,b=I+(R<<7&4294967295|R>>>25),R=x+(N^b&(I^N))+V[1]+3905402710&4294967295,x=b+(R<<12&4294967295|R>>>20),R=N+(I^x&(b^I))+V[2]+606105819&4294967295,N=x+(R<<17&4294967295|R>>>15),R=I+(b^N&(x^b))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(x^I&(N^x))+V[4]+4118548399&4294967295,b=I+(R<<7&4294967295|R>>>25),R=x+(N^b&(I^N))+V[5]+1200080426&4294967295,x=b+(R<<12&4294967295|R>>>20),R=N+(I^x&(b^I))+V[6]+2821735955&4294967295,N=x+(R<<17&4294967295|R>>>15),R=I+(b^N&(x^b))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(x^I&(N^x))+V[8]+1770035416&4294967295,b=I+(R<<7&4294967295|R>>>25),R=x+(N^b&(I^N))+V[9]+2336552879&4294967295,x=b+(R<<12&4294967295|R>>>20),R=N+(I^x&(b^I))+V[10]+4294925233&4294967295,N=x+(R<<17&4294967295|R>>>15),R=I+(b^N&(x^b))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(x^I&(N^x))+V[12]+1804603682&4294967295,b=I+(R<<7&4294967295|R>>>25),R=x+(N^b&(I^N))+V[13]+4254626195&4294967295,x=b+(R<<12&4294967295|R>>>20),R=N+(I^x&(b^I))+V[14]+2792965006&4294967295,N=x+(R<<17&4294967295|R>>>15),R=I+(b^N&(x^b))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=b+(N^x&(I^N))+V[1]+4129170786&4294967295,b=I+(R<<5&4294967295|R>>>27),R=x+(I^N&(b^I))+V[6]+3225465664&4294967295,x=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(x^b))+V[11]+643717713&4294967295,N=x+(R<<14&4294967295|R>>>18),R=I+(x^b&(N^x))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^x&(I^N))+V[5]+3593408605&4294967295,b=I+(R<<5&4294967295|R>>>27),R=x+(I^N&(b^I))+V[10]+38016083&4294967295,x=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(x^b))+V[15]+3634488961&4294967295,N=x+(R<<14&4294967295|R>>>18),R=I+(x^b&(N^x))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^x&(I^N))+V[9]+568446438&4294967295,b=I+(R<<5&4294967295|R>>>27),R=x+(I^N&(b^I))+V[14]+3275163606&4294967295,x=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(x^b))+V[3]+4107603335&4294967295,N=x+(R<<14&4294967295|R>>>18),R=I+(x^b&(N^x))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(N^x&(I^N))+V[13]+2850285829&4294967295,b=I+(R<<5&4294967295|R>>>27),R=x+(I^N&(b^I))+V[2]+4243563512&4294967295,x=b+(R<<9&4294967295|R>>>23),R=N+(b^I&(x^b))+V[7]+1735328473&4294967295,N=x+(R<<14&4294967295|R>>>18),R=I+(x^b&(N^x))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=b+(I^N^x)+V[5]+4294588738&4294967295,b=I+(R<<4&4294967295|R>>>28),R=x+(b^I^N)+V[8]+2272392833&4294967295,x=b+(R<<11&4294967295|R>>>21),R=N+(x^b^I)+V[11]+1839030562&4294967295,N=x+(R<<16&4294967295|R>>>16),R=I+(N^x^b)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^x)+V[1]+2763975236&4294967295,b=I+(R<<4&4294967295|R>>>28),R=x+(b^I^N)+V[4]+1272893353&4294967295,x=b+(R<<11&4294967295|R>>>21),R=N+(x^b^I)+V[7]+4139469664&4294967295,N=x+(R<<16&4294967295|R>>>16),R=I+(N^x^b)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^x)+V[13]+681279174&4294967295,b=I+(R<<4&4294967295|R>>>28),R=x+(b^I^N)+V[0]+3936430074&4294967295,x=b+(R<<11&4294967295|R>>>21),R=N+(x^b^I)+V[3]+3572445317&4294967295,N=x+(R<<16&4294967295|R>>>16),R=I+(N^x^b)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(I^N^x)+V[9]+3654602809&4294967295,b=I+(R<<4&4294967295|R>>>28),R=x+(b^I^N)+V[12]+3873151461&4294967295,x=b+(R<<11&4294967295|R>>>21),R=N+(x^b^I)+V[15]+530742520&4294967295,N=x+(R<<16&4294967295|R>>>16),R=I+(N^x^b)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=b+(N^(I|~x))+V[0]+4096336452&4294967295,b=I+(R<<6&4294967295|R>>>26),R=x+(I^(b|~N))+V[7]+1126891415&4294967295,x=b+(R<<10&4294967295|R>>>22),R=N+(b^(x|~I))+V[14]+2878612391&4294967295,N=x+(R<<15&4294967295|R>>>17),R=I+(x^(N|~b))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~x))+V[12]+1700485571&4294967295,b=I+(R<<6&4294967295|R>>>26),R=x+(I^(b|~N))+V[3]+2399980690&4294967295,x=b+(R<<10&4294967295|R>>>22),R=N+(b^(x|~I))+V[10]+4293915773&4294967295,N=x+(R<<15&4294967295|R>>>17),R=I+(x^(N|~b))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~x))+V[8]+1873313359&4294967295,b=I+(R<<6&4294967295|R>>>26),R=x+(I^(b|~N))+V[15]+4264355552&4294967295,x=b+(R<<10&4294967295|R>>>22),R=N+(b^(x|~I))+V[6]+2734768916&4294967295,N=x+(R<<15&4294967295|R>>>17),R=I+(x^(N|~b))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=b+(N^(I|~x))+V[4]+4149444226&4294967295,b=I+(R<<6&4294967295|R>>>26),R=x+(I^(b|~N))+V[11]+3174756917&4294967295,x=b+(R<<10&4294967295|R>>>22),R=N+(b^(x|~I))+V[2]+718787259&4294967295,N=x+(R<<15&4294967295|R>>>17),R=I+(x^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+x&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let N=this.h,x=0;for(;x<b;){if(N==0)for(;x<=I;)l(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<b;)if(V[N++]=C.charCodeAt(x++),N==this.blockSize){l(this,V),N=0;break}}else for(;x<b;)if(V[N++]=C[x++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function h(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const x=C[N]|0;V&&x==b||(I[N]=x,V=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?h(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return $(v(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(b,8));let V=S;for(let x=0;x<C.length;x+=8){var N=Math.min(8,C.length-x);const R=parseInt(C.substring(x,x+N),b);N<8?(N=v(Math.pow(b,N)),V=V.j(N).add(v(R))):(V=V.j(I),V=V.add(v(R)))}return V}var S=_(0),U=_(1),j=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-$(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+$(this).toString(C);const b=v(Math.pow(C,6));var I=this;let V="";for(;;){const N=zt(I,b).g;I=ut(I,N.j(b));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}a.l=function(C){return C=ut(this,C),et(C)?-1:Z(C)?0:1};function $(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(U)}a.abs=function(){return et(this)?$(this):this},a.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=b;N++){let x=V+(this.i(N)&65535)+(C.i(N)&65535),R=(x>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,x&=65535,R&=65535,I[N]=R<<16|x}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ut(C,b){return C.add($(b))}a.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?$(this).j($(C)):$($(this).j(C));if(et(C))return $(this.j($(C)));if(this.l(j)<0&&C.l(j)<0)return v(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const x=this.i(V)>>>16,R=this.i(V)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*V+2*N]+=R*Ie,gt(I,2*V+2*N),I[2*V+2*N+1]+=x*Ie,gt(I,2*V+2*N+1),I[2*V+2*N+1]+=R*ie,gt(I,2*V+2*N+1),I[2*V+2*N+2]+=x*ie,gt(I,2*V+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function gt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ct(C,b){this.g=C,this.h=b}function zt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new ct(S,S);if(et(C))return b=zt($(C),b),new ct($(b.g),$(b.h));if(et(b))return b=zt(C,$(b)),new ct($(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=U,V=b;V.l(C)<=0;)I=Wt(I),V=Wt(V);var N=xt(I,1),x=xt(V,1);for(V=xt(V,2),I=xt(I,2);!Z(V);){var R=x.add(V);R.l(C)<=0&&(N=N.add(I),x=R),V=xt(V,1),I=xt(I,1)}return b=ut(C,N.j(b)),new ct(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=v(I),R=x.j(b);et(R)||R.l(C)>0;)I-=V,x=v(I),R=x.j(b);Z(x)&&(x=U),N=N.add(x),C=ut(C,R)}return new ct(N,C)}a.B=function(C){return zt(this,C).h},a.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},a.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},a.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function xt(C,b){const I=b>>5;b%=32;const V=C.g.length-I,N=[];for(let x=0;x<V;x++)N[x]=b>0?C.i(x+I)>>>b|C.i(x+I+1)<<32-b:C.i(x+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,XE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,jr=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZE,hl,$E,wc,Gd,JE,WE,tT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return m.prototype[L].apply(T,J)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const T=ct.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new et(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,xt=!1,C=new gt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ut();){try{u.h.call(u.g)}catch(y){$(y)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,L);return null}return y=ao(y),u&&u[Ie]?u.J(m,y,p(T)?!!T.capture:!1,L):Zr(u,m,y,!1,T,L)}function Zr(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let Et=$r(u);if(Et||(u[Mt]=Et=new it(u)),y=Et.add(m,y,T,J,B),y.proxy)return y;if(T=Hs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)x||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Hs(){function u(y){return m.call(u.src,u.listener,y)}const m=ro;return u}function Gs(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Gs(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=ao(y),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,T,L),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,T,L)),(y=u>-1?m[u]:null)&&Fs(y))}function Fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent($n(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=$r(m))?(pt(y,u),y.h==0&&(y.src=null,m[Mt]=null)):ht(u)}}}function $n(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Fs(u),u=y.call(T,m)}return u}function $r(u){return u=u[Mt],u instanceof it?u:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ao(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function ge(){V.call(this),this.i=new it(this),this.M=this,this.G=null}S(ge,V),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Gs(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),tt(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=er(B,T,!0,m)&&L;if(B=m.g=u,L=er(B,T,!0,m)&&L,L=er(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=er(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function er(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Et=J.listener,he=J.ha||J.src;J.fa&&pt(u.i,J),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function _h(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=_h(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(u){V.call(this),this.h=u,this.g={}}S(Jr,V);var oo=[];function lo(u){Lt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Fs(m)},u),u.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),lo(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,vh=d.JSON.parse,jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Hl(){}function Gl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}S(Pe,N);function vn(){N.call(this,"c")}S(vn,N);var ce={},Fl=null;function Qs(){return Fl=Fl||new ge}ce.Ia="serverreachability";function Ql(u){N.call(this,ce.Ia,u)}S(Ql,N);function Jn(u){const m=Qs();De(m,new Ql(m))}ce.STAT_EVENT="statevent";function Wr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(Wr,N);function pe(u){const m=Qs();De(m,new Wr(m,u))}ce.Ja="timingevent";function Wn(u,m){N.call(this,ce.Ja,u),this.size=m}S(Wn,N);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Eh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Kl(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function ei(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Th(u,y)+(T?" "+T:"")})}function ts(u,m){u.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Th(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return nr(B)}catch{return m}}var es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},co;function ns(){}S(ns,Hl),ns.prototype.g=function(){return new XMLHttpRequest},co=new ns;function Ii(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ni(u,m,y){u.M=1,u.A=is(ve(m)),u.u=y,u.R=!0,Ks(u,null)}function Ks(u,m){u.F=Date.now(),ii(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=uu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(oo[0]=L.toString()),L=oo);for(let B=0;B<L.length;B++){const J=re(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Bn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?Jn(3):Jn(2)),ri(this);var m=this.g.ca();this.X=m;var y=Ah(this);if(this.o=m==200,Kl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=Zl(this,y),se==Me){Et==4&&(this.m=4,pe(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),si(this,se);if(Xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),wo(J),J.P=!0,pe(11))}}else ei(this.i,this.l,y,null),si(this,y);Et==4&&cn(this),this.o&&!this.K&&(Et==4?su(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function Ah(u){if(!Xl(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Xl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Ys(u,u.H)}function Ys(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ts(this.i,this.B),this.M!=2&&(Jn(),pe(17)),cn(this),this.m=2,En(this)):Ys(this,this.T-u)};function En(u){u.j.I==0||u.K||su(u.j,u)}function cn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,lo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)na(y),cr(y);else break t;cs(y),pe(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(v(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&na(y),!R(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const mi=Bt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const jn=u.g;if(jn){const hs=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var B=T.h;B.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(mo(B,B.h),B.h=null))}if(T.G){const ia=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(T.wa=ia,Gt(T.J,T.G,ia))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=lu(T,T.L?T.ba:null,T.W),J.L){go(T.h,J);var Et=J,he=T.O;he&&(Et.H=he),Et.D&&(ri(Et),ii(Et)),T.g=J}else iu(T);y.i.length>0&&fi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||di(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?di(y,7):bo(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}Jn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function ho(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function mo(u,m){u.g?u.g.add(m):u.h=m}function go(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ho.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return j(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,yo(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ir(this,m[4]),this.h=li(m[5]||"",!0),yo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(rs(m,Zs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,Zs,!0),"@"),u.push(Ii(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rs(y,y.charAt(0)=="/"?_o:Jl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rs(y,Wl)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Ue(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ir(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const Et=L[J++];Et=="."?T&&J==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?yo(m,eu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function Ue(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function yo(u,m,y){m instanceof sr?(u.i=m,Js(u.i,u.l)):(y||(m=rs(m,rr)),u.i=new sr(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function is(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Jl=/[#\?:]/g,_o=/[#\?]/g,rr=/[#\?@]/g,Wl=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=sr.prototype,a.add=function(u,m){nn(this),this.i=null,u=ar(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tu(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vo(u,m){return nn(u),m=ar(u,m),u.g.has(m)}a.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Eo(u,m){nn(u);let y=[];if(typeof m=="string")vo(u,m)&&(y=y.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Eo(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,y){tu(u,m),y.length>0&&(u.i=null,u.g.set(ar(u,m),j(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ii(y);y=Eo(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Ii(y[B])),u.push(J)}}return this.i=u.join("&")};function eu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Js(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(tu(this,T),$s(this,L,y))},u)),u.j=m}function kn(u,m){const y=new xn;if(d.Image){const T=new Image;T.onload=A(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function To(u,m){const y=new xn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function or(){this.g=new jl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ui,Hl),ui.prototype.g=function(){return new ss(this.i,this.h)};function ss(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ss,ge),a=ss.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ws(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):zn(this),this.readyState==3&&Ws(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},a.Na=function(u){this.g&&(this.response=u,lr(this))},a.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Lt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function as(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=An(y),typeof u=="string"?y!=null&&Ii(y):Gt(u,m,y))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var ci=/^https?$/i,Ao=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():co.g(),this.g.onreadystatechange=U(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){os(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ao,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){os(this,B)}};function os(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Ci(u)}function So(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ci(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ls(this):this.Xa())},a.Xa=function(){ls(this)};function ls(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match($l)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",So(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),vh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Yl(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ho(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ur.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),fi(this)};function bo(u){if(ta(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),us(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=is(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}ou(u)}function cr(u){u.g&&(wo(u),u.g.cancel(),u.g=null)}function ta(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!fo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),xt||(Wt(),xt=!0),C.add(m,u),u.D=0}}function ea(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),au(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),us(this,y),B&&(this.R?m="headers="+Ii(An(B))+"&"+m:this.u&&as(y,this.u,B)),mo(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,ni(L,y,null)):ni(L,y,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||fo(this.h)||Ro(this))};function Ro(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),us(u,T),u.u&&u.o&&as(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),mo(u.h,y),ni(y,T,m)}function us(u,m){u.H&&Lt(u.H,function(y,T){Gt(m,T,y)}),u.l&&Lt({},function(y,T){Gt(m,T,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+y];Et==-1?y>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let se=0;se<y;se++){var B=L[se].g;const Sn=L[se].map;if(B-=Et,B<0)Et=Math.max(0,L[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[mi,qn]of J){let jn=qn;p(qn)&&(jn=nr(qn)),he.push(B+mi+"="+encodeURIComponent(jn))}}catch(mi){throw he.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Sn)}}if(Bt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),xt||(Wt(),xt=!0),C.add(m,u),u.A=0}}function cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),au(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),cr(this),ru(this))};function wo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),us(u,m),u.u&&u.o&&as(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=is(ve(m)),y.u=null,y.R=!0,Ks(y,u)}a.Va=function(){this.C!=null&&(this.C=null,cr(this),cs(this),pe(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function su(u,m){var y=null;if(u.g==m){na(u),wo(u),u.g=null;var T=2}else if(oi(u.h,m))y=m.G,go(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Qs(),De(T,new Wn(T,y)),fi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ea(u,m)||T==2&&cs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function au(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),is(T),L?kn(T.toString(),y):To(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),ou(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ou(u){if(u.I=0,u.ja=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function lu(u,m,y){var T=y instanceof hn?ve(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&Ue(B,T),m&&(B.g=m),L&&ir(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),us(u,T),T}function uu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ui({ab:y})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}S(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){bo(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=nr(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&fi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Je.Z.N.call(this)};function hu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(hu,Pe);function fu(){vn.call(this),this.status=1}S(fu,vn);function Ni(u){this.g=u}S(Ni,cu),Ni.prototype.ra=function(){De(this.g,"a")},Ni.prototype.qa=function(u){De(this.g,new hu(u))},Ni.prototype.pa=function(u){De(this.g,new fu)},Ni.prototype.oa=function(){De(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,tT=function(){return new hr},WE=function(){return Qs()},JE=ce,Gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,wc=es,uo.COMPLETE="complete",$E=uo,Gl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,hl=Gl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,ZE=Kt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",rv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new om("@firebase/firestore");function Ua(){return Ls.logLevel}function nt(a,...t){if(Ls.logLevel<=Dt.DEBUG){const i=t.map(Em);Ls.debug(`Firestore (${to}): ${a}`,...i)}}function Ji(a,...t){if(Ls.logLevel<=Dt.ERROR){const i=t.map(Em);Ls.error(`Firestore (${to}): ${a}`,...i)}}function Fa(a,...t){if(Ls.logLevel<=Dt.WARN){const i=t.map(Em);Ls.warn(`Firestore (${to}): ${a}`,...i)}}function Em(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,eT(a,s,i)}function eT(a,t,i){let s=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ji(s),new Error(s)}function jt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||eT(t,l,s)}function vt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class tw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ew{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new nT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class nw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new nw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>s(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=sw(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function Nt(a,t){return a<t?-1:a>t?1:0}function Fd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),h=t.charAt(s);if(l!==h)return Nd(l)===Nd(h)?Nt(l,h):Nd(l)?1:-1}return Nt(a.length,t.length)}const aw=55296,ow=57343;function Nd(a){const t=a.charCodeAt(0);return t>=aw&&t<=ow}function Qa(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__name__";class vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&dt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=vi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Nt(t.length,i.length)}static compareSegments(t,i){const s=vi.isNumericId(t),l=vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jr.fromString(t.substring(4,t.length-2))}}class Jt extends vi{construct(t,i,s){return new Jt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(t,i,s){return new Ge(t,i,s)}static isValidIdentifier(t){return lw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new Ge([av])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(h(),l++)}if(h(),d)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Jt.fromString(t))}static fromName(t){return new lt(Jt.fromString(t).popFirst(5))}static empty(){return new lt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(a,t,i){if(!i)throw new rt(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function uw(a,t,i,s){if(t===!0&&s===!0)throw new rt(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ov(a){if(!lt.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lv(a){if(lt.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function rh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function yl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rh(a);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function xl(a,t){if(!rT(a))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,h="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new rt(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*cv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<uv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function cw(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Gr(l,lt.empty(),t)}function hw(a){return new Gr(a.readTime,a.key,bl)}class Gr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Gr(yt.min(),lt.empty(),bl)}static max(){return new Gr(yt.max(),lt.empty(),bl)}}function fw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(a.documentKey,t.documentKey),i!==0?i:Nt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==dw)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(_=>s(_)))})),d=!0,h===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,h)=>{s.push(i.call(this,l,h))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const h=t.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++p,p===h&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):s()};h()}))}}function gw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function ah(a){return a==null}function Bc(a){return a===0&&1/a==-1/0}function pw(a){return typeof a=="number"&&Number.isInteger(a)&&!Bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="";function yw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=hv(t)),t=_w(a.get(i),t);return hv(t)}function _w(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case sT:i+="";break;default:i+=h}}return i}function hv(a){return a+sT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function ks(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function aT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new He(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,s,l,h){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new oT("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(a){if(jt(!!a,39018),typeof a=="string"){let t=0;const i=vw.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Qr(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="server_timestamp",uT="__type__",cT="__previous_value__",hT="__local_write_time__";function Sm(a){return(a?.mapValue?.fields||{})[uT]?.stringValue===lT}function oh(a){const t=a.mapValue.fields[cT];return Sm(t)?oh(t):t}function Rl(a){const t=Fr(a.mapValue.fields[hT].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i,s,l,h,d,p,_,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const qc="(default)";class wl{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__type__",Tw="__max__",vc={mapValue:{}},dT="__vector__",jc="value";function Kr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sm(a)?4:Sw(a)?9007199254740991:Aw(a)?10:11:dt(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Kr(a);if(i!==Kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Rl(a).isEqual(Rl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Fr(l.timestampValue),p=Fr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,h){return Qr(l.bytesValue).isEqual(Qr(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,h){return me(l.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(a,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return me(l.integerValue)===me(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=me(l.doubleValue),p=me(h.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Qa(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(fv(d)!==fv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!wi(d[_],p[_])))return!1;return!0})(a,t);default:return dt(52216,{left:a})}}function Il(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Ka(a,t){if(a===t)return 0;const i=Kr(a),s=Kr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return mv(a.timestampValue,t.timestampValue);case 4:return mv(Rl(a),Rl(t));case 5:return Fd(a.stringValue,t.stringValue);case 6:return(function(h,d){const p=Qr(h),_=Qr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Nt(p[v],_[v]);if(A!==0)return A}return Nt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Nt(me(h.latitude),me(d.latitude));return p!==0?p:Nt(me(h.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return gv(a.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},_=d.fields||{},v=p[jc]?.arrayValue,A=_[jc]?.arrayValue,S=Nt(v?.values?.length||0,A?.values?.length||0);return S!==0?S:gv(v,A)})(a.mapValue,t.mapValue);case 11:return(function(h,d){if(h===vc.mapValue&&d===vc.mapValue)return 0;if(h===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const U=Fd(_[S],A[S]);if(U!==0)return U;const j=Ka(p[_[S]],v[A[S]]);if(j!==0)return j}return Nt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function mv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Nt(a,t);const i=Fr(a),s=Fr(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function gv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=Ka(i[l],s[l]);if(h)return h}return Nt(i.length,s.length)}function Ya(a){return Qd(a)}function Qd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Fr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Qr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return lt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=Qd(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(a.mapValue):dt(61005,{value:a})}function Ic(a){switch(Kr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Ic(t):16;case 5:return 2*a.stringValue.length;case 6:return Qr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+Ic(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return ks(s.fields,((h,d)=>{l+=h.length+Ic(d)})),l})(a.mapValue);default:throw dt(13486,{value:a})}}function pv(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Kd(a){return!!a&&"integerValue"in a}function bm(a){return!!a&&"arrayValue"in a}function yv(a){return!!a&&"nullValue"in a}function _v(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Cc(a){return!!a&&"mapValue"in a}function Aw(a){return(a?.mapValue?.fields||{})[fT]?.stringValue===dT}function _l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ks(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=_l(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(a.arrayValue.values[i]);return t}return{...a}}function Sw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Tw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=Ge.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=_l(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){ks(i,((l,h)=>t[l]=h));for(const l of s)delete t[l]}clone(){return new Vn(_l(this.value))}}function mT(a){const t=[];return ks(a.fields,((i,s)=>{const l=new Ge([i]);if(Cc(s)){const h=mT(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,s,l,h,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,s,l){return new Xe(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function vv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=lt.comparator(lt.fromName(d.referenceValue),i.key):s=Ka(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ev(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function bw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class Re extends gT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new ww(t,i,s):i==="array-contains"?new Dw(t,s):i==="in"?new Nw(t,s):i==="not-in"?new Ow(t,s):i==="array-contains-any"?new Vw(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Iw(t,s):new Cw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ka(i,this.value)):i!==null&&Kr(this.value)===Kr(i)&&this.matchesComparison(Ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends gT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return pT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pT(a){return a.op==="and"}function yT(a){return Rw(a)&&pT(a)}function Rw(a){for(const t of a.filters)if(t instanceof Zn)return!1;return!0}function Yd(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(yT(a))return a.filters.map((t=>Yd(t))).join(",");{const t=a.filters.map((i=>Yd(i))).join(",");return`${a.op}(${t})`}}function _T(a,t){return a instanceof Re?(function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&wi(s.value,l.value)})(a,t):a instanceof Zn?(function(s,l){return l instanceof Zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,d,p)=>h&&_T(d,l.filters[p])),!0):!1})(a,t):void dt(19439)}function vT(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(vT).join(" ,")+"}"})(a):"Filter"}class ww extends Re{constructor(t,i,s){super(t,i,s),this.key=lt.fromName(s.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Iw extends Re{constructor(t,i){super(t,"in",i),this.keys=ET("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Cw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=ET("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ET(a,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class Dw extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&Il(i.arrayValue,this.value)}}class Nw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class Ow extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Il(this.value.arrayValue,i)}}class Vw extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Il(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,i=null,s=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Tv(a,t=null,i=[],s=[],l=null,h=null,d=null){return new Mw(a,t,i,s,l,h,d)}function Rm(a){const t=vt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Yd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Ya(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Ya(s))).join(",")),t.Te=i}return t.Te}function wm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!bw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!_T(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Ev(a.startAt,t.startAt)&&Ev(a.endAt,t.endAt)}function Xd(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,i=null,s=[],l=[],h=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Uw(a,t,i,s,l,h,d,p){return new Ll(a,t,i,s,l,h,d,p)}function Im(a){return new Ll(a)}function Av(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function TT(a){return a.collectionGroup!==null}function vl(a){const t=vt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Gc(h,s))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Gc(Ge.keyField(),s))}return t.Ie}function Ti(a){const t=vt(a);return t.Ee||(t.Ee=xw(t,vl(a))),t.Ee}function xw(a,t){if(a.limitType==="F")return Tv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Gc(l.field,h)}));const i=a.endAt?new Hc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Hc(a.startAt.position,a.startAt.inclusive):null;return Tv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Zd(a,t){const i=a.filters.concat([t]);return new Ll(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Fc(a,t,i){return new Ll(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function lh(a,t){return wm(Ti(a),Ti(t))&&a.limitType===t.limitType}function AT(a){return`${Rm(Ti(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>vT(l))).join(", ")}]`),ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function uh(a,t){return t.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):lt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,t)&&(function(s,l){for(const h of vl(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const v=vv(d,p,_);return d.inclusive?v<=0:v<0})(s.startAt,vl(s),l)||s.endAt&&!(function(d,p,_){const v=vv(d,p,_);return d.inclusive?v>=0:v>0})(s.endAt,vl(s),l))})(a,t)}function Lw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ST(a){return(t,i)=>{let s=!1;for(const l of vl(a)){const h=Pw(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function Pw(a,t,i){const s=a.field.isKeyField()?lt.comparator(t.key,i.key):(function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Ka(_,v):dt(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,((i,s)=>{for(const[l,h]of s)t(l,h)}))}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new oe(lt.comparator);function Wi(){return kw}const bT=new oe(lt.comparator);function fl(...a){let t=bT;for(const i of a)t=t.insert(i.key,i);return t}function RT(a){let t=bT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ds(){return El()}function wT(){return El()}function El(){return new zs((a=>a.toString()),((a,t)=>a.isEqual(t)))}const zw=new oe(lt.comparator),Bw=new Ve(lt.comparator);function Ot(...a){let t=Bw;for(const i of a)t=t.add(i);return t}const qw=new Ve(Nt);function jw(){return qw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function IT(a){return{integerValue:""+a}}function Hw(a,t){return pw(t)?IT(t):Cm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function Gw(a,t,i){return a instanceof Qc?(function(l,h){const d={fields:{[uT]:{stringValue:lT},[hT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Sm(h)&&(h=oh(h)),h&&(d.fields[cT]=h),{mapValue:d}})(i,t):a instanceof Cl?DT(a,t):a instanceof Dl?NT(a,t):(function(l,h){const d=CT(l,h),p=Sv(d)+Sv(l.Ae);return Kd(d)&&Kd(l.Ae)?IT(p):Cm(l.serializer,p)})(a,t)}function Fw(a,t,i){return a instanceof Cl?DT(a,t):a instanceof Dl?NT(a,t):i}function CT(a,t){return a instanceof Kc?(function(s){return Kd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(t)?t:{integerValue:0}:null}class Qc extends ch{}class Cl extends ch{constructor(t){super(),this.elements=t}}function DT(a,t){const i=OT(t);for(const s of a.elements)i.some((l=>wi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Dl extends ch{constructor(t){super(),this.elements=t}}function NT(a,t){let i=OT(t);for(const s of a.elements)i=i.filter((l=>!wi(l,s)));return{arrayValue:{values:i}}}class Kc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Sv(a){return me(a.integerValue||a.doubleValue)}function OT(a){return bm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Qw(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Cl&&l instanceof Cl||s instanceof Dl&&l instanceof Dl?Qa(s.elements,l.elements,wi):s instanceof Kc&&l instanceof Kc?wi(s.Ae,l.Ae):s instanceof Qc&&l instanceof Qc})(a.transform,t.transform)}class Kw{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class hh{}function VT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new UT(a.key,Xi.none()):new Pl(a.key,a.data,Xi.none());{const i=a.data,s=Vn.empty();let l=new Ve(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Bs(a.key,s,new Yn(l.toArray()),Xi.none())}}function Yw(a,t,i){a instanceof Pl?(function(l,h,d){const p=l.value.clone(),_=Rv(l.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof Bs?(function(l,h,d){if(!Dc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Rv(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(MT(l)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(a,t,i,s){return a instanceof Pl?(function(h,d,p,_){if(!Dc(h.precondition,d))return p;const v=h.value.clone(),A=wv(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof Bs?(function(h,d,p,_){if(!Dc(h.precondition,d))return p;const v=wv(h.fieldTransforms,_,d),A=d.data;return A.setAll(MT(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,t,i,s):(function(h,d,p){return Dc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function Xw(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),h=CT(s.transform,l||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,h))}return i||null}function bv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Qa(s,l,((h,d)=>Qw(h,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Pl extends hh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Bs extends hh{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function MT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function Rv(a,t,i){const s=new Map;jt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,p=t.data.field(h.field);s.set(h.field,Fw(d,p,i[l]))}return s}function wv(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,Gw(h,d,t))}return s}class UT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zw extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Yw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Tl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Tl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=wT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const _=VT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,s)=>bv(i,s)))&&Qa(this.baseMutations,t.baseMutations,((i,s)=>bv(i,s)))}}class Dm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return zw})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new Dm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Ut;function tI(a){switch(a){case Y.OK:return dt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function xT(a){if(a===void 0)return Ji("GRPC error has no .code"),Y.UNKNOWN;switch(a){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return dt(39323,{code:a})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new jr([4294967295,4294967295],0);function Iv(a){const t=eI().encode(a),i=new XE;return i.update(t),new Uint8Array(i.digest())}function Cv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new jr([i,s],0),new jr([l,h],0)]}class Nm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=jr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(jr.fromNumber(s)));return l.compare(nI)===1&&(l=new jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Iv(t),[s,l]=Cv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Nm(h,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Iv(t),[s,l]=Cv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new fh(yt.min(),l,new oe(Nt),Wi(),Ot())}}class kl{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new kl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class LT{constructor(t,i){this.targetId=t,this.Ce=i}}class PT{constructor(t,i,s=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Dv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:dt(38017,{changeType:h})}})),new kl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Ec(),this.He=Ec(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Xd(h))if(s===0){const d=new lt(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Qr(s).toUint8Array()}catch(_){if(_ instanceof oT)return Fa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Nm(d,l,h)}catch(_){return Fa(_ instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Xd(p.target)){const _=new lt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Xe.newNoDocument(_,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Ot();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ye,this.je,s);return this.je=Wi(),this.Je=Ec(),this.He=Ec(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Dv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Dv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new oe(lt.comparator)}function Nv(){return new oe(lt.comparator)}const rI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class oI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function $d(a,t){return a.useProto3Json||ah(t)?t:{value:t}}function Yc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function lI(a,t){return Yc(a,t.toTimestamp())}function Ai(a){return jt(!!a,49232),yt.fromTimestamp((function(i){const s=Fr(i);return new ne(s.seconds,s.nanos)})(a))}function Om(a,t){return Jd(a,t).canonicalString()}function Jd(a,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function zT(a){const t=Jt.fromString(a);return jt(GT(t),10190,{key:t.toString()}),t}function Wd(a,t){return Om(a.databaseId,t.path)}function Od(a,t){const i=zT(t);if(i.get(1)!==a.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new lt(qT(i))}function BT(a,t){return Om(a.databaseId,t)}function uI(a){const t=zT(a);return t.length===4?Jt.emptyPath():qT(t)}function tm(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function qT(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Ov(a,t,i){return{name:Wd(a,t),fields:i.value.mapValue.fields}}function cI(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?Y.UNKNOWN:xT(v.code);return new rt(A,v.message||"")})(d);i=new PT(s,l,h,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Od(a,s.document.name),h=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):yt.min(),p=new Vn({mapValue:{fields:s.document.fields}}),_=Xe.newFoundDocument(l,h,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Nc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Od(a,s.document),h=s.readTime?Ai(s.readTime):yt.min(),d=Xe.newNoDocument(l,h),p=s.removedTargetIds||[];i=new Nc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Od(a,s.document),h=s.removedTargetIds||[];i=new Nc([],h,l,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new Ww(l,h),p=s.targetId;i=new LT(p,d)}}return i}function hI(a,t){let i;if(t instanceof Pl)i={update:Ov(a,t.key,t.value)};else if(t instanceof UT)i={delete:Wd(a,t.key)};else if(t instanceof Bs)i={update:Ov(a,t.key,t.data),updateMask:EI(t.fieldMask)};else{if(!(t instanceof Zw))return dt(16599,{Vt:t.type});i={verify:Wd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:lI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(a,t.precondition)),i}function fI(a,t){return a&&a.length>0?(jt(t!==void 0,14353),a.map((i=>(function(l,h){let d=l.updateTime?Ai(l.updateTime):Ai(h);return d.isEqual(yt.min())&&(d=Ai(h)),new Kw(d,l.transformResults||[])})(i,t)))):[]}function dI(a,t){return{documents:[BT(a,t.path)]}}function mI(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=BT(a,l);const h=(function(v){if(v.length!==0)return HT(Zn.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(U){return{field:La(U.field),direction:yI(U.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$d(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function gI(a){let t=uI(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const U=jT(S);return U instanceof Zn&&yT(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((U=>(function(Z){return new Gc(Pa(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let U;return U=typeof S=="object"?S.value:S,ah(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(S){const U=!!S.before,j=S.values||[];return new Hc(j,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const U=!S.before,j=S.values||[];return new Hc(j,U)})(i.endAt)),Uw(t,l,d,h,p,"F",_,v)}function pI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function jT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Pa(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Pa(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((s=>jT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(a):dt(30097,{filter:a})}function yI(a){return rI[a]}function _I(a){return sI[a]}function vI(a){return aI[a]}function La(a){return{fieldPath:a.canonicalString()}}function Pa(a){return Ge.fromServerFormat(a.fieldPath)}function HT(a){return a instanceof Re?(function(i){if(i.op==="=="){if(_v(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(yv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_v(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(yv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:_I(i.op),value:i.value}}})(a):a instanceof Zn?(function(i){const s=i.getFilters().map((l=>HT(l)));return s.length===1?s[0]:{compositeFilter:{op:vI(i.op),filters:s}}})(a):dt(54877,{filter:a})}function EI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function GT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,i,s,l,h=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.yt=t}}function AI(a){const t=gI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Fc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Cn=new bI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Gr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class bI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(Jt.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(FT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",RI=1048576;function Uv([a,t],[i,s]){const l=Nt(a,i);return l===0?Nt(t,s):l}class wI{constructor(t){this.Ir=t,this.buffer=new Ve(Uv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?nt(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Vr(3e5)}))}}class CI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(sh.ce);const s=new wI(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Vv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,h,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(h=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(v=Date.now(),Ua()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:S}))))}}function DI(a,t){return new CI(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.changes=new zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Tl(s.mutation,l,Yn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ds();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((h=>{let d=fl();return h.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ds();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let h=Wi();const d=El(),p=(function(){return El()})();return i.forEach(((_,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Bs)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Tl(A.mutation,v,A.mutation.getFieldMask(),ne.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new OI(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=El();let l=new oe(((d,p)=>d-p)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||Yn.empty();A=p.applyToLocalView(v,A),s.set(_,A);const S=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,S=wT();A.forEach((U=>{if(!h.has(U)){const j=VT(i.get(U),s.get(U));j!==null&&S.set(U,j),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):TT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):X.resolve(Ds());let p=bl,_=h;return d.next((v=>X.forEach(v,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,_,v,Ot()))).next((A=>({batchId:p,changes:RT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,h).next((p=>X.forEach(p,(_=>{const v=(function(S,U){return new Ll(U,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((S,U)=>{d=d.insert(S,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=fl();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&Tl(A.mutation,v,Yn.empty(),ne.now()),uh(i,v)&&(p=p.insert(_,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:AI(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.overlays=new oe(lt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ds();return X.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,h)=>{this.St(t,i,h)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Ds(),h=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new oe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=Ds(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Ds(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Jw(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new lt(new Jt([])),s=new Le(i,t),l=new Le(i,t+1),h=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new lt(new Jt([])),s=new Le(i,t),l=new Le(i,t+1);let h=Ot();return this.Ur.forEachInRange([s,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return lt.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||lt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new $w(h,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(Nt);return i.forEach((l=>{const h=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;lt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new lt(h),0);let p=new Ve(Nt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const h=new Le(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.ri=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=Wi();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||fw(hw(A),s)<=0||(l.has(A.key)||uh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,s,l){dt(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new kI(this)}getSize(t){return X.resolve(this.size)}}class kI extends NI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.persistence=t,this.si=new zs((i=>Rm(i)),wm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Xa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(h).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,i){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new xI,this.referenceDelegate=t(this),this.Pi=new zI(this),this.indexManager=new SI,this.remoteDocumentCache=(function(l){return new PI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new TI(i),this.Ii=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new UI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new LI(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new BI(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class BI extends mw{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=lt.fromPath(s);return this.gi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new zs((s=>yw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=DI(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((h=>h?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Um(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VS()?8:gw(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new qI;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ua()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ua()<=Dt.DEBUG&&nt("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ua()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}ys(t,i){if(Av(i))return X.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Fc(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Fc(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,s,l){return Av(i)||l.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,l)?X.resolve(null):(Ua()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,cw(l,bl)).next((p=>p)))}))}Ds(t,i){let s=new Ve(ST(t));return i.forEach(((l,h)=>{uh(t,h)&&(s=s.add(h))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,s){return Ua()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Gr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",HI=3e8;class GI{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new zs((h=>Rm(h)),wm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function FI(a,t,i,s){return new GI(a,t,i,s)}async function KT(a,t){const i=vt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let _=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function QI(a,t){const i=vt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const S=v.batch,U=S.keys();let j=X.resolve();return U.forEach((Z=>{j=j.next((()=>A.getEntry(_,Z))).next((et=>{const $=v.docVersions.get(Z);jt($!==null,48541),et.version.compareTo($)<0&&(S.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,s,t,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function YT(a){const t=vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function KI(a,t){const i=vt(a),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const U=l.get(S);if(!U)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let j=U.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(S)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(S,j),(function(et,$,ut){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=HI?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(U,j,A)&&p.push(i.Pi.updateTargetData(h,j))}));let _=Wi(),v=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(YI(h,d,t.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=l,h)))}function YI(a,t,i){let s=Ot(),l=Ot();return i.forEach((h=>s=s.add(h))),t.getEntries(a,s).next((h=>{let d=Wi();return i.forEach(((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(xm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function XI(a,t){const i=vt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function ZI(a,t){const i=vt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((h=>h?(l=h,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function em(a,t,i){const s=vt(a),l=s.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;nt(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function xv(a,t,i){const s=vt(a);let l=yt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const S=vt(_),U=S.xs.get(A);return U!==void 0?X.resolve(S.Ms.get(U)):S.Pi.getTargetData(v,A)})(s,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{h=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Ot()))).next((p=>($I(s,Lw(t),p),{documents:p,Qs:h})))))}function $I(a,t,i){let s=a.Os.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(t,s)}class Lv{constructor(){this.activeTargetIds=jw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JI{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function nm(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",tC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,h){const d=nm(),p=this.zo(t,i.toUriEncodedString());nt(Vd,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,h);const{host:v}=new URL(p),A=$a(v);return this.Jo(t,p,_,s,A).then((S=>(nt(Vd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Fa(Vd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,h,d){return this.Go(t,i,s,l,h)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),s&&s.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const s=tC[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class iC extends eC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,h){const d=nm();return new Promise(((p,_)=>{const v=new ZE;v.setWithCredentials(!0),v.listenOnce($E.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case wc.NO_ERROR:const S=v.getResponseJson();nt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case wc.TIMEOUT:nt(Ke,`RPC '${t}' ${d} timed out`),_(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const U=v.getStatus();if(nt(Ke,`RPC '${t}' ${d} failed with status:`,U,"response text:",v.getResponseText()),U>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const Z=j?.error;if(Z&&Z.status&&Z.message){const et=(function(ut){const gt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(gt)>=0?gt:Y.UNKNOWN})(Z.status);_(new rt(et,Z.message))}else _(new rt(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{nt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ke,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=nm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=tT(),p=WE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");nt(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let U=!1,j=!1;const Z=new nC({Yo:$=>{j?nt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(U||(nt(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),U=!0),nt(Ke,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Zo:()=>S.close()}),et=($,ut,gt)=>{$.listen(ut,(ct=>{try{gt(ct)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return et(S,hl.EventType.OPEN,(()=>{j||(nt(Ke,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(S,hl.EventType.CLOSE,(()=>{j||(j=!0,nt(Ke,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),et(S,hl.EventType.ERROR,($=>{j||(j=!0,Fa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),et(S,hl.EventType.MESSAGE,($=>{if(!j){const ut=$.data[0];jt(!!ut,16349);const gt=ut,ct=gt?.error||gt[0]?.error;if(ct){nt(Ke,`RPC '${t}' stream ${l} received error:`,ct);const zt=ct.status;let Wt=(function(b){const I=be[b];if(I!==void 0)return xT(I)})(zt),xt=ct.message;Wt===void 0&&(Wt=Y.INTERNAL,xt="Unknown error status: "+zt+" with message "+ct.message),j=!0,Z.a_(new rt(Wt,xt)),S.close()}else nt(Ke,`RPC '${t}' stream ${l} received:`,ut),Z.u_(ut)}})),et(p,JE.STAT_EVENT,($=>{$.stat===Gd.PROXY?nt(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Gd.NOPROXY&&nt(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(a){return new oI(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,i,s=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="PersistentStream";class ZT{constructor(t,i,s,l,h,d,p,_){this.Mi=t,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rC extends ZT{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=cI(this.serializer,t),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=tm(this.serializer),i.addTarget=(function(h,d){let p;const _=d.target;if(p=Xd(_)?{documents:dI(h,_)}:{query:mI(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=kT(h,d.resumeToken);const v=$d(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Yc(h,d.snapshotVersion.toTimestamp());const v=$d(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=pI(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=tm(this.serializer),i.removeTarget=t,this.q_(i)}}class sC extends ZT{constructor(t,i,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=fI(t.writeResults,t.commitTime),s=Ai(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>hI(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{}class oC extends aC{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Jd(i,s),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Y.UNKNOWN,h.toString())}))}Ho(t,i,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,s),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class uC{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{qs(this)&&(nt(Ps,"Restarting streams for network reachability change."),await(async function(_){const v=vt(_);v.Ea.add(4),await zl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await mh(v)})(this))}))})),this.Ra=new lC(s,l)}}async function mh(a){if(qs(a))for(const t of a.da)await t(!0)}async function zl(a){for(const t of a.da)await t(!1)}function $T(a,t){const i=vt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),zm(i)?km(i):io(i).O_()&&Pm(i,t))}function Lm(a,t){const i=vt(a),s=io(i);i.Ia.delete(t),s.O_()&&JT(i,t),i.Ia.size===0&&(s.O_()?s.L_():qs(i)&&i.Ra.set("Unknown"))}function Pm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(a).Y_(t)}function JT(a,t){a.Va.Ue(t),io(a).Z_(t)}function km(a){a.Va=new iI({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),io(a).start(),a.Ra.ua()}function zm(a){return qs(a)&&!io(a).x_()&&a.Ia.size>0}function qs(a){return vt(a).Ea.size===0}function WT(a){a.Va=void 0}async function cC(a){a.Ra.set("Online")}async function hC(a){a.Ia.forEach(((t,i)=>{Pm(a,t)}))}async function fC(a,t){WT(a),zm(a)?(a.Ra.ha(t),km(a)):a.Ra.set("Unknown")}async function dC(a,t,i){if(a.Ra.set("Online"),t instanceof PT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(s){nt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(a,s)}else if(t instanceof Nc?a.Va.Ze(t):t instanceof LT?a.Va.st(t):a.Va.tt(t),!i.isEqual(yt.min()))try{const s=await YT(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),JT(h,_);const S=new kr(A.target,_,v,A.sequenceNumber);Pm(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){nt(Ps,"Failed to raise snapshot:",s),await Zc(a,s)}}async function Zc(a,t,i){if(!no(t))throw t;a.Ea.add(1),await zl(a),a.Ra.set("Offline"),i||(i=()=>YT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(Ps,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await mh(a)}))}function t0(a,t){return t().catch((i=>Zc(a,i,t)))}async function gh(a){const t=vt(a),i=Yr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;mC(t);)try{const l=await XI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,gC(t,l)}catch(l){await Zc(t,l)}e0(t)&&n0(t)}function mC(a){return qs(a)&&a.Ta.length<10}function gC(a,t){a.Ta.push(t);const i=Yr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function e0(a){return qs(a)&&!Yr(a).x_()&&a.Ta.length>0}function n0(a){Yr(a).start()}async function pC(a){Yr(a).ra()}async function yC(a){const t=Yr(a);for(const i of a.Ta)t.ea(i.mutations)}async function _C(a,t,i){const s=a.Ta.shift(),l=Dm.from(s,t,i);await t0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await gh(a)}async function vC(a,t){t&&Yr(a).X_&&await(async function(s,l){if((function(d){return tI(d)&&d!==Y.ABORTED})(l.code)){const h=s.Ta.shift();Yr(s).B_(),await t0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await gh(s)}})(a,t),e0(a)&&n0(a)}async function Bv(a,t){const i=vt(a);i.asyncQueue.verifyOperationInProgress(),nt(Ps,"RemoteStore received new credentials");const s=qs(i);i.Ea.add(3),await zl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function EC(a,t){const i=vt(a);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await zl(i),i.Ra.set("Unknown"))}function io(a){return a.ma||(a.ma=(function(i,s,l){const h=vt(i);return h.sa(),new rC(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:cC.bind(null,a),t_:hC.bind(null,a),r_:fC.bind(null,a),H_:dC.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),zm(a)?km(a):a.Ra.set("Unknown")):(await a.ma.stop(),WT(a))}))),a.ma}function Yr(a){return a.fa||(a.fa=(function(i,s,l){const h=vt(i);return h.sa(),new sC(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:pC.bind(null,a),r_:vC.bind(null,a),ta:yC.bind(null,a),na:_C.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(nt(Ps,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,p=new Bm(t,i,d,l,h);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(a,t){if(Ji("AsyncQueue",`${t}: ${a}`),no(a))return new rt(Y.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||lt.comparator(i.key,s.key):(i,s)=>lt.comparator(i.key,s.key),this.keyedMap=fl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.ga=new oe(lt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Za{constructor(t,i,s,l,h,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,qa.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AC{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=vt(i),h=l.queries;l.queries=jv(),h.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(s)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function jv(){return new zs((a=>AT(a)),lh)}async function SC(a,t){const i=vt(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(s=2):(h=new TC,s=t.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=qm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&jm(i)}async function bC(a,t){const i=vt(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function RC(a,t){const i=vt(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&jm(i)}function wC(a,t,i){const s=vt(a),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);s.queries.delete(t)}function jm(a){a.Ca.forEach((t=>{t.next()}))}var im,Hv;(Hv=im||(im={})).Ma="default",Hv.Cache="cache";class IC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t){this.key=t}}class r0{constructor(t){this.key=t}}class CC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=ST(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new qv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const U=l.get(A),j=uh(this.query,S)?S:null,Z=!!U&&this.mutatedKeys.has(U.key),et=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;U&&j?U.data.isEqual(j.data)?Z!==et&&(s.track({type:3,doc:j}),$=!0):this.su(U,j)||(s.track({type:2,doc:j}),$=!0,(_&&this.eu(j,_)>0||v&&this.eu(j,v)<0)&&(p=!0)):!U&&j?(s.track({type:0,doc:j}),$=!0):U&&!j&&(s.track({type:1,doc:U}),$=!0,(_||v)&&(p=!0)),$&&(j?(d=d.add(j),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(j,Z){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:$})}};return et(j)-et(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Za(this.query,t.tu,h,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new r0(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new i0(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class DC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class NC{constructor(t){this.key=t,this.hu=!1}}class OC{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zs((p=>AT(p)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(lt.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VC(a,t,i=!0){const s=c0(a);let l;const h=s.Tu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await s0(s,t,i,!0),l}async function MC(a,t){const i=c0(a);await s0(i,t,!0,!1)}async function s0(a,t,i,s){const l=await ZI(a.localStore,Ti(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await UC(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&$T(a.remoteStore,l),p}async function UC(a,t,i,s,l){a.pu=(S,U,j)=>(async function(et,$,ut,gt){let ct=$.view.ru(ut);ct.Cs&&(ct=await xv(et.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,ct))));const zt=gt&&gt.targetChanges.get($.targetId),Wt=gt&&gt.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(ct,et.isPrimaryClient,zt,Wt);return Fv(et,$.targetId,xt.au),xt.snapshot})(a,S,U,j);const h=await xv(a.localStore,t,!0),d=new CC(t,h.Qs),p=d.ru(h.documents),_=kl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,_);Fv(a,i,v.au);const A=new DC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function xC(a,t,i){const s=vt(a),l=s.Tu.get(t),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((d=>!lh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Lm(s.remoteStore,l.targetId),rm(s,l.targetId)})).catch(eo)):(rm(s,l.targetId),await em(s.localStore,l.targetId,!0))}async function LC(a,t){const i=vt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(i.remoteStore,s.targetId))}async function PC(a,t,i){const s=GC(a);try{const l=await(function(d,p){const _=vt(d),v=ne.now(),A=p.reduce(((j,Z)=>j.add(Z.key)),Ot());let S,U;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Z=Wi(),et=Ot();return _.Ns.getEntries(j,A).next(($=>{Z=$,Z.forEach(((ut,gt)=>{gt.isValidDocument()||(et=et.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,Z))).next(($=>{S=$;const ut=[];for(const gt of p){const ct=Xw(gt,S.get(gt.key).overlayedDocument);ct!=null&&ut.push(new Bs(gt.key,ct,mT(ct.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,ut,p)})).next(($=>{U=$;const ut=$.applyToLocalDocumentSet(S,et);return _.documentOverlayCache.saveOverlays(j,$.batchId,ut)}))})).then((()=>({batchId:U.batchId,changes:RT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new oe(Nt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(s,l.batchId,i),await Bl(s,l.changes),await gh(s.remoteStore)}catch(l){const h=qm(l,"Failed to persist write");i.reject(h)}}async function a0(a,t){const i=vt(a);try{const s=await KI(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await Bl(i,s,t)}catch(s){await eo(s)}}function Gv(a,t,i){const s=vt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,S)=>{for(const U of S.Sa)U.va(p)&&(v=!0)})),v&&jm(_)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function kC(a,t,i){const s=vt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),h=l&&l.key;if(h){let d=new oe(lt.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Ot().add(h),_=new fh(yt.min(),new Map,new oe(Nt),d,p);await a0(s,_),s.du=s.du.remove(h),s.Au.delete(t),Gm(s)}else await em(s.localStore,t,!1).then((()=>rm(s,t,i))).catch(eo)}async function zC(a,t){const i=vt(a),s=t.batch.batchId;try{const l=await QI(i.localStore,t);l0(i,s,null),o0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(i,l)}catch(l){await eo(l)}}async function BC(a,t,i){const s=vt(a);try{const l=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((S=>(jt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(v,S)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);l0(s,t,i),o0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Bl(s,l)}catch(l){await eo(l)}}function o0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function l0(a,t,i){const s=vt(a);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function rm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((s=>{a.Ru.containsKey(s)||u0(a,s)}))}function u0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Lm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Gm(a))}function Fv(a,t,i){for(const s of i)s instanceof i0?(a.Ru.addReference(s.key,t),qC(a,s)):s instanceof r0?(nt(Hm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,t),a.Ru.containsKey(s.key)||u0(a,s.key)):dt(19791,{wu:s})}function qC(a,t){const i=t.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(nt(Hm,"New document in limbo: "+i),a.Eu.add(s),Gm(a))}function Gm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new lt(Jt.fromString(t)),s=a.fu.next();a.Au.set(s,new NC(i)),a.du=a.du.insert(i,s),$T(a.remoteStore,new kr(Ti(Im(i.path)),s,"TargetPurposeLimboResolution",sh.ce))}}async function Bl(a,t,i){const s=vt(a),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((v=>{if((v||i)&&s.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Um.As(_.targetId,v);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(v,(U=>X.forEach(U.Es,(j=>A.persistence.referenceDelegate.addReference(S,U.targetId,j))).next((()=>X.forEach(U.ds,(j=>A.persistence.referenceDelegate.removeReference(S,U.targetId,j)))))))))}catch(S){if(!no(S))throw S;nt(xm,"Failed to update sequence numbers: "+S)}for(const S of v){const U=S.targetId;if(!S.fromCache){const j=A.Ms.get(U),Z=j.snapshotVersion,et=j.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(U,et)}}})(s.localStore,h))}async function jC(a,t){const i=vt(a);if(!i.currentUser.isEqual(t)){nt(Hm,"User change. New user:",t.toKey());const s=await KT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((_=>{_.reject(new rt(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(i,s.Ls)}}function HC(a,t){const i=vt(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function c0(a){const t=vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kC.bind(null,t),t.Pu.H_=RC.bind(null,t.eventManager),t.Pu.yu=wC.bind(null,t.eventManager),t}function GC(a){const t=vt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BC.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return FI(this.persistence,new jI,t.initialUser,this.serializer)}Cu(t){return new QT(Mm.mi,this.serializer)}Du(t){return new JI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class FC extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof Xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new II(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new QT((s=>Xc.mi(s,i)),this.serializer)}}class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AC})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),s=(function(h){return new iC(h)})(t.databaseInfo);return(function(h,d,p,_){return new oC(h,d,p,_)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,h,d,p){return new uC(s,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return kv.v()?new kv:new WI})())}createSyncEngine(t,i){return(function(l,h,d,p,_,v,A){const S=new OC(l,h,d,p,_,v);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);nt(Ps,"RemoteStore shutting down."),s.Ea.add(5),await zl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class KC{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{nt(Xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(Xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=qm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ud(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Xr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await KT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Qv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await YC(a);nt(Xr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Bv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Bv(t.remoteStore,l))),a._onlineComponents=t}async function YC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Xr,"Using user provided OfflineComponentProvider");try{await Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Ud(a,new $c)}}else nt(Xr,"Using default OfflineComponentProvider"),await Ud(a,new FC(void 0));return a._offlineComponents}async function h0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Xr,"Using user provided OnlineComponentProvider"),await Qv(a,a._uninitializedComponentsProvider._online)):(nt(Xr,"Using default OnlineComponentProvider"),await Qv(a,new sm))),a._onlineComponents}function XC(a){return h0(a).then((t=>t.syncEngine))}async function Kv(a){const t=await h0(a),i=t.eventManager;return i.onListen=VC.bind(null,t.syncEngine),i.onUnlisten=xC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=MC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=LC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firestore.googleapis.com",Xv=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d0,this.ssl=Xv}else this.host=t.host,this.ssl=t.ssl??Xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RI)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new WR;switch(s.type){case"firstParty":return new iw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Yv.get(i);s&&(nt("ComponentProvider","Removing Datastore"),Yv.delete(i),s.terminate())})(this),Promise.resolve()}}function ZC(a,t,i,s={}){a=yl(a,ph);const l=$a(t),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(hE(`https://${p}`),fE("Firestore",!0)),h.host!==d0&&h.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:p,ssl:l,emulatorOptions:s};if(!Ms(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Ye.MOCK_USER;else{v=SS(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}a._authCredentials=new tw(new nT(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new js(this.firestore,t,this._query)}}class Oe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(xl(i,Oe._jsonSchema))return new Oe(t,s||null,new lt(Jt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Hr extends js{constructor(t,i,s){super(t,i,Im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new lt(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function $v(a,t,...i){if(a=tn(a),iT("collection","path",t),a instanceof ph){const s=Jt.fromString(t,...i);return lv(s),new Hr(a,null,s)}{if(!(a instanceof Oe||a instanceof Hr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(t,...i));return lv(s),new Hr(a.firestore,null,s)}}function $C(a,t,...i){if(a=tn(a),arguments.length===1&&(t=Tm.newId()),iT("doc","path",t),a instanceof ph){const s=Jt.fromString(t,...i);return ov(s),new Oe(a,null,new lt(s))}{if(!(a instanceof Oe||a instanceof Hr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(t,...i));return ov(s),new Oe(a.firestore,a instanceof Hr?a.converter:null,new lt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XT(this,"async_queue_retry"),this._c=()=>{const s=Md();s&&nt(Jv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;nt(Jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",tE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tE(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Jc extends ph{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function JC(a,t){const i=typeof a=="object"?a:pE(),s=typeof a=="string"?a:qc,l=um(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=TS("firestore");h&&ZC(l,...h)}return l}function m0(a){if(a._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||WC(a),a._firestoreClient}function WC(a){const t=a._freezeSettings(),i=(function(l,h,d,p){return new Ew(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,f0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new KC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Fe.fromBase64String(t))}catch(i){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:we("string",Mn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(xl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:we("string",Si._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class e2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Bs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Pl(t,this.data,i,this.fieldTransforms)}}function p0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:a})}}class Qm{constructor(t,i,s,l,h,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(p0(this.Ac)&&t2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class n2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||dh(t)}Cc(t,i,s,l=!1){return new Qm({Ac:t,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y0(a){const t=a._freezeSettings(),i=dh(a._databaseId);return new n2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function i2(a,t,i,s,l,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,t,i,l);E0("Data must be an object, but it was:",d,s);const p=_0(s,d);let _,v;if(h.merge)_=new Yn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const U=s2(t,S,i);if(!d.contains(U))throw new rt(Y.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);o2(A,U)||A.push(U)}_=new Yn(A),v=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,v=d.fieldTransforms;return new e2(new Vn(p),_,v)}function r2(a,t,i,s=!1){return Km(i,a.Cc(s?4:3,t))}function Km(a,t){if(v0(a=tn(a)))return E0("Unsupported field value:",t,a),_0(a,t);if(a instanceof g0)return(function(s,l){if(!p0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let d=0;for(const p of s){let _=Km(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,t)}return(function(s,l){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Hw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ne.fromDate(s);return{timestampValue:Yc(l.serializer,h)}}if(s instanceof ne){const h=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,h)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:kT(l.serializer,s._byteString)};if(s instanceof Oe){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Om(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof bi)return(function(d,p){return{mapValue:{fields:{[fT]:{stringValue:dT},[jc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Cm(p.serializer,v)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${rh(s)}`)})(a,t)}function _0(a,t){const i={};return aT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(a,((s,l)=>{const h=Km(l,t.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function v0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Si||a instanceof Mn||a instanceof Oe||a instanceof g0||a instanceof bi)}function E0(a,t,i){if(!v0(i)||!rT(i)){const s=rh(i);throw s==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+s)}}function s2(a,t,i){if((t=tn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return T0(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const a2=new RegExp("[~\\*/\\[\\]]");function T0(a,t,i){if(t.search(a2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new rt(Y.INVALID_ARGUMENT,p+a+_)}function o2(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Ym("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends A0{data(){return super.data()}}function Ym(a,t){return typeof t=="string"?T0(a,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class S0 extends Xm{}function c2(a,t,...i){let s=[];t instanceof Xm&&s.push(t),s=s.concat(i),(function(h){const d=h.filter((_=>_ instanceof Zm)).length,p=h.filter((_=>_ instanceof yh)).length;if(d>1||d>0&&p>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class yh extends S0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new yh(t,i,s)}_apply(t){const i=this._parse(t);return b0(t._query,i),new js(t.firestore,t.converter,Zd(t._query,i))}_parse(t){const i=y0(t.firestore);return(function(h,d,p,_,v,A,S){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){iE(S,A);const Z=[];for(const et of S)Z.push(nE(_,h,et));U={arrayValue:{values:Z}}}else U=nE(_,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||iE(S,A),U=r2(p,d,S,A==="in"||A==="not-in");return Re.create(v,A,U)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function h2(a,t,i){const s=t,l=Ym("where",a);return yh._create(l,s,i)}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const p=h.getFlattenedFilters();for(const _ of p)b0(d,_),d=Zd(d,_)})(t._query,i),new js(t.firestore,t.converter,Zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $m extends S0{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new $m(t,i,s)}_apply(t){return new js(t.firestore,t.converter,Fc(t._query,this._limit,this._limitType))}}function f2(a){return $m._create("limit",a,"F")}function nE(a,t,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TT(t)&&i.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Jt.fromString(i));if(!lt.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pv(a,new lt(s))}if(i instanceof Oe)return pv(a,i._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(i)}.`)}function iE(a,t){if(!Array.isArray(a)||a.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function b0(a,t){const i=(function(l,h){for(const d of l)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class d2{convertValue(t,i="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ks(t,((l,h)=>{s[l]=this.convertValue(h,i)})),s}convertVectorValue(t){const i=t.fields?.[jc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=oh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=Fr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Jt.fromString(t);jt(GT(s),9688,{name:t});const l=new wl(s.get(1),s.get(3)),h=new lt(s.popFirst(5));return l.isEqual(i)||Ji(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends A0{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Ym("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:we("string",Vs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Oc extends Vs{data(t={}){return super.data(t)}}class ja{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Oc(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const _=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:g2(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function g2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:we("string",ja._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class R0 extends d2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function p2(a,t){const i=yl(a.firestore,Jc),s=$C(a),l=m2(a.converter,t);return _2(i,[i2(y0(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Xi.exists(!1))]).then((()=>s))}function y2(a,...t){a=tn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||eE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eE(t[s])){const _=t[s];t[s]=_.next?.bind(_),t[s+1]=_.error?.bind(_),t[s+2]=_.complete?.bind(_)}let h,d,p;if(a instanceof Oe)d=yl(a.firestore,Jc),p=Im(a._key.path),h={next:_=>{t[s]&&t[s](v2(d,a,_))},error:t[s+1],complete:t[s+2]};else{const _=yl(a,js);d=yl(_.firestore,Jc),p=_._query;const v=new R0(d);h={next:A=>{t[s]&&t[s](new ja(d,v,_,A))},error:t[s+1],complete:t[s+2]},u2(a._query)}return(function(v,A,S,U){const j=new QC(U),Z=new IC(A,j,S);return v.asyncQueue.enqueueAndForget((async()=>SC(await Kv(v),Z))),()=>{j.Nu(),v.asyncQueue.enqueueAndForget((async()=>bC(await Kv(v),Z)))}})(m0(d),p,l,h)}function _2(a,t){return(function(s,l){const h=new Os;return s.asyncQueue.enqueueAndForget((async()=>PC(await XC(s),l,h))),h.promise})(m0(a),t)}function v2(a,t,i){const s=i.docs.get(t._key),l=new R0(a);return new Vs(a,l,t._key,s,new ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){to=l})(Ja),Ha(new Us("firestore",((s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Jc(new ew(s.getProvider("auth-internal")),new rw(d,s.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(v.options.projectId,A)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qr(iv,rv,t),qr(iv,rv,"esm2020")})();const E2={apiKey:"AIzaSyCNDR9Ph8piE-7gjqB4OfYOQ_vO13WzoVU",authDomain:"prueba-conteo-votos.firebaseapp.com",projectId:"prueba-conteo-votos",storageBucket:"prueba-conteo-votos.firebasestorage.app",messagingSenderId:"89480573097",appId:"1:89480573097:web:df41a3f0bb33d47479b9b8",measurementId:"G-NCG8RWE0P7"},w0=gE(E2),xd=$R(w0),rE=JC(w0);function T2(){const[a,t]=Ma.useState(null),[i,s]=Ma.useState(""),[l,h]=Ma.useState([]),[d,p]=Ma.useState(!1),_=500,v=()=>{try{localStorage.clear(),sessionStorage.clear(),alert("Datos del navegador limpiados. Recarga la página e intenta iniciar sesión nuevamente."),window.location.reload()}catch{alert("No se pudieron limpiar los datos. Usa modo incógnito o limpia manualmente los datos del sitio.")}};Ma.useEffect(()=>{const j=zb(xd,Z=>{if(t(Z),Z){p(!0);const et=c2($v(rE,"mensajes"),h2("userId","==",Z.uid),f2(50)),$=y2(et,ut=>{const gt=[];ut.forEach(ct=>{gt.push({id:ct.id,...ct.data()})}),gt.sort((ct,zt)=>ct.timestamp&&zt.timestamp?zt.timestamp.toDate()-ct.timestamp.toDate():0),h(gt),p(!1)},ut=>{console.error("Error al cargar mensajes:",ut),p(!1)});return()=>$()}else s(""),h([]),p(!1)});return()=>j()},[]);const A=async()=>{const j=new Qi;try{await aR(xd,j)}catch(Z){console.error("Error al iniciar sesión con Google: ",Z),Z.code==="auth/web-storage-unsupported"||Z.message.includes("missing initial state")||Z.message.includes("sessionStorage")?alert(`
Error de almacenamiento del navegador. 
Por favor:
1. Limpia los datos del sitio en tu navegador
2. O usa modo incógnito/privado
3. Después recarga la página e intenta de nuevo
        `):alert("Error al iniciar sesión. Intenta de nuevo.")}},S=async()=>{try{await Bb(xd)}catch(j){console.error("Error al cerrar sesión: ",j)}},U=async()=>{if(a&&i.trim()!=="")try{await p2($v(rE,"mensajes"),{text:i,timestamp:new Date,userId:a.uid,userName:a.displayName,userEmail:a.email}),alert("Mensaje guardado con éxito!"),s("")}catch(j){console.error("Error al guardar el mensaje: ",j),alert("Hubo un error al guardar el mensaje.")}else alert("No hay un usuario autenticado o el mensaje está vacío.")};return wt.jsx("div",{className:"App",children:wt.jsxs("header",{className:"App-header",children:[wt.jsx("h1",{children:"Mi Aplicación de Notas Firebase"}),a?wt.jsxs("div",{children:[wt.jsxs("p",{children:["Bienvenido, ",wt.jsx("strong",{children:a.displayName})," (",a.email,")"]}),wt.jsx("button",{onClick:S,children:"Cerrar Sesión"}),wt.jsxs("div",{style:{marginTop:"20px"},children:[wt.jsx("h3",{children:"Escribir nuevo mensaje"}),wt.jsx("textarea",{value:i,onChange:j=>s(j.target.value.substring(0,_)),placeholder:"Escribe tu mensaje aquí...",rows:"5",cols:"50",maxLength:_}),wt.jsxs("p",{children:["Caracteres restantes: ",_-i.length]}),wt.jsx("button",{onClick:U,disabled:i.trim()==="",children:"Guardar"})]}),wt.jsxs("div",{style:{marginTop:"30px"},children:[wt.jsxs("h3",{children:["💬 Tus mensajes guardados (",l.length,")"]}),d?wt.jsx("p",{children:"⏳ Cargando mensajes..."}):l.length===0?wt.jsxs("div",{children:[wt.jsx("p",{children:"❌ No se encontraron mensajes."}),wt.jsx("p",{children:"🔍 Revisa la consola del navegador (F12) para ver los logs de Firebase."})]}):wt.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"10px"},children:l.map(j=>wt.jsxs("div",{style:{border:"1px solid #eee",margin:"10px 0",padding:"15px",borderRadius:"8px",backgroundColor:"#f9f9f9",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[wt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",paddingBottom:"8px",borderBottom:"1px solid #ddd"},children:[wt.jsxs("div",{children:[wt.jsxs("strong",{style:{color:"#333",fontSize:"14px"},children:["👤 ",j.userName||"Usuario desconocido"]}),wt.jsx("br",{}),wt.jsx("small",{style:{color:"#888",fontSize:"12px"},children:j.userEmail||"Email no disponible"})]}),wt.jsxs("small",{style:{color:"#666",fontSize:"12px"},children:["🕒 ",j.timestamp?.toDate?.()?j.timestamp.toDate().toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible"]})]}),wt.jsx("p",{style:{margin:"0",lineHeight:"1.4",fontSize:"14px",color:"#333"},children:j.text})]},j.id))})]})]}):wt.jsxs("div",{children:[wt.jsx("p",{children:"Por favor, inicia sesión para continuar."}),wt.jsx("button",{onClick:A,children:"Iniciar Sesión con Google"}),wt.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"5px"},children:[wt.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"14px"},children:wt.jsx("strong",{children:"¿Problemas para iniciar sesión?"})}),wt.jsx("p",{style:{margin:"0 0 10px 0",fontSize:"12px"},children:'Si ves errores sobre "almacenamiento" o "initial state", prueba:'}),wt.jsx("button",{onClick:v,style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 15px",borderRadius:"3px",fontSize:"12px"},children:"🧹 Limpiar Datos del Navegador"})]})]})]})})}fS.createRoot(document.getElementById("root")).render(wt.jsx(Ma.StrictMode,{children:wt.jsx(T2,{})}));
